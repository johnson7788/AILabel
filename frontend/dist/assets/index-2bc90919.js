import{o as a,b as d,a as o,_ as V,g as l,k as $e,h as G,v as Ce,F,e as K,n as De,x as _e,y as ce,d as Q,L as R,r as j,p as le,t as q,f as b,c as T,w as M,j as Y,z as B,i as w,A as Pe,C as Ie,D as Se,E as U,K as de,q as ee,s as te,X as Me,G as Ae}from"./index-f50d6d08.js";import{f as ze}from"./fetch-e5abe7a9.js";import{a as re}from"./axios-a342f982.js";import{Z as Le,a as Te,c as Be,e as je,f as Oe,b as Re,g as Ue,n as qe,t as Ee,d as Ve,i as Ne}from"./index-cbf34b5d.js";function He(e,t,n,p,f,g,c,h){var C=new Le({style:{text:e,font:t,align:n,verticalAlign:p,padding:f,rich:g,overflow:c?"truncate":null,lineHeight:h}});return C.getBoundingRect()}const Fe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:Te,capitalFirst:Be,encodeHTML:je,formatTime:Oe,formatTpl:Re,getTextRect:He,getTooltipMarker:Ue,normalizeCssArray:qe,toCamelCase:Ee,truncateText:Ve},Symbol.toStringTag,{value:"Module"})),Ke=["stroke","fill"],Ge=o("path",{d:"m617.24 354a126.36 126.36 0 0 0 -10.86-103.79 127.8 127.8 0 0 0 -137.65-61.32 126.36 126.36 0 0 0 -95.31-42.49 127.81 127.81 0 0 0 -121.92 88.49 126.4 126.4 0 0 0 -84.5 61.3 127.82 127.82 0 0 0 15.72 149.86 126.36 126.36 0 0 0 10.86 103.79 127.81 127.81 0 0 0 137.65 61.32 126.36 126.36 0 0 0 95.31 42.49 127.81 127.81 0 0 0 121.96-88.54 126.4 126.4 0 0 0 84.5-61.3 127.82 127.82 0 0 0 -15.76-149.81zm-190.66 266.49a94.79 94.79 0 0 1 -60.85-22c.77-.42 2.12-1.16 3-1.7l101-58.34a16.42 16.42 0 0 0 8.3-14.37v-142.39l42.69 24.65a1.52 1.52 0 0 1 .83 1.17v117.92a95.18 95.18 0 0 1 -94.97 95.06zm-204.24-87.23a94.74 94.74 0 0 1 -11.34-63.7c.75.45 2.06 1.25 3 1.79l101 58.34a16.44 16.44 0 0 0 16.59 0l123.31-71.2v49.3a1.53 1.53 0 0 1 -.61 1.31l-102.1 58.95a95.16 95.16 0 0 1 -129.85-34.79zm-26.57-220.49a94.71 94.71 0 0 1 49.48-41.68c0 .87-.05 2.41-.05 3.48v116.68a16.41 16.41 0 0 0 8.29 14.36l123.31 71.19-42.69 24.65a1.53 1.53 0 0 1 -1.44.13l-102.11-59a95.16 95.16 0 0 1 -34.79-129.81zm350.74 81.62-123.31-71.2 42.69-24.64a1.53 1.53 0 0 1 1.44-.13l102.11 58.95a95.08 95.08 0 0 1 -14.69 171.55c0-.88 0-2.42 0-3.49v-116.68a16.4 16.4 0 0 0 -8.24-14.36zm42.49-63.95c-.75-.46-2.06-1.25-3-1.79l-101-58.34a16.46 16.46 0 0 0 -16.59 0l-123.31 71.2v-49.3a1.53 1.53 0 0 1 .61-1.31l102.1-58.9a95.07 95.07 0 0 1 141.19 98.44zm-267.11 87.87-42.7-24.65a1.52 1.52 0 0 1 -.83-1.17v-117.92a95.07 95.07 0 0 1 155.9-73c-.77.42-2.11 1.16-3 1.7l-101 58.34a16.41 16.41 0 0 0 -8.3 14.36zm23.19-50 54.92-31.72 54.92 31.7v63.42l-54.92 31.7-54.92-31.7z"},null,-1),Qe=[Ge],We={__name:"IconOpenAI",props:{color:{type:String,default:"#00DC82"}},setup(e){return(t,n)=>(a(),d("svg",{width:"100%",height:"100%",stroke:e.color,fill:e.color,"stroke-width":"0",viewBox:"140 140 520 520",xmlns:"http://www.w3.org/2000/svg"},Qe,8,Ke))}},Je=["fill","stroke"],Ze=o("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"},null,-1),Xe=o("path",{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"},null,-1),Ye=[Ze,Xe],et={__name:"IconPerson",props:{color:{type:String,default:"#00DC82"}},setup(e){return(t,n)=>(a(),d("svg",{fill:e.color,stroke:e.color,width:"100%",height:"100%","stroke-width":"0",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},Ye,8,Je))}},tt=["width","height"],ot=o("defs",null,[o("symbol",{id:"mshd-file-upload",viewBox:"0 0 1024 1024"},[o("path",{d:"M791.970909 978.525091H232.029091a110.312727 110.312727 0 0 1-110.173091-110.173091V155.648A110.312727 110.312727 0 0 1 232.029091 45.474909h409.460364c39.005091 0 76.148364 16.756364 101.934545 45.986909l124.788364 141.684364c21.876364 24.808727 33.978182 56.738909 33.931636 89.786182v545.419636a110.312727 110.312727 0 0 1-110.173091 110.173091zM232.029091 118.504727a37.143273 37.143273 0 0 0-37.096727 37.143273v712.704c0 20.48 16.616727 37.143273 37.096727 37.143273h559.941818c20.48 0 37.096727-16.663273 37.096727-37.143273V322.932364c0-15.266909-5.585455-30.021818-15.639272-41.518546l-124.834909-141.637818a62.836364 62.836364 0 0 0-47.104-21.271273H232.029091z"}),o("path",{d:"M867.467636 360.541091h-150.434909a110.312727 110.312727 0 0 1-110.173091-110.173091V79.592727h73.076364v170.821818c0 20.48 16.616727 37.143273 37.096727 37.143273h150.434909v73.076364zM363.706182 613.888a36.538182 36.538182 0 0 0 51.665454 0l60.509091-60.509091v175.662546a36.538182 36.538182 0 0 0 73.029818 0v-174.917819l59.764364 59.764364a36.538182 36.538182 0 1 0 51.665455-51.665455l-122.135273-122.135272a36.398545 36.398545 0 0 0-26.205091-10.705455 36.398545 36.398545 0 0 0-26.205091 10.705455L363.706182 562.269091a36.538182 36.538182 0 0 0 0 51.665454z"})])],-1),st=["fill"],at={__name:"IconFileUpload",props:{color:{type:String,default:"#00DC82"},width:{type:String,default:"40"},height:{type:String,default:"40"}},setup(e){return(t,n)=>(a(),d("svg",{"xmlns:xlink":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg",stroke:"black","stroke-width":"2",fill:"red","aria-hidden":"true",focusable:"false",class:"",width:e.width,height:e.height},[ot,o("use",{"xlink:href":"#mshd-file-upload",fill:e.color},null,8,st)],8,tt))}},nt=["width","height"],lt=o("defs",null,[o("symbol",{id:"mshd-send",viewBox:"0 0 1024 1024"},[o("path",{d:"M525.952 537.514667l-313.557333 31.274666-82.474667 272.256a43.093333 43.093333 0 0 0 12.288 44.714667 39.936 39.936 0 0 0 44.672 5.973333l687.146667-343.338666a40.490667 40.490667 0 0 0 21.973333-36.266667c0-15.402667-8.533333-29.482667-21.973333-36.266667L187.349333 132.266667a39.893333 39.893333 0 0 0-44.672 5.973333c-12.373333 11.008-17.237333 28.586667-12.330666 44.672l82.517333 272.256 312.96 31.317333c12.629333 1.28 22.272 12.288 22.272 25.386667a25.258667 25.258667 0 0 1-22.272 25.386667l0.128 0.256z"})])],-1),ct=["fill"],rt={__name:"IconSend",props:{color:{type:String,default:"#00DC82"},width:{type:String,default:"40"},height:{type:String,default:"40"}},setup(e){return(t,n)=>(a(),d("svg",{"xmlns:xlink":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg",fill:"red","aria-hidden":"true",focusable:"false",class:"",width:e.width,height:e.height},[lt,o("use",{"xlink:href":"#mshd-send","fill-opacity":"1",fill:e.color},null,8,ct)],8,nt))}};const it={class:"load-texture-container"},ut={class:"inner"},dt={__name:"LoadingText",setup(e){const t=l(new Array(7).fill(0)),n=l(!1),p=l(null);return $e(n,f=>{if(f){let g=0;p.value=setInterval(()=>{t.value=t.value.map((c,h)=>2*Math.sin(g+2*Math.PI*((h+1)/8))),g++},100)}else clearInterval(p.value)}),G(()=>{n.value=!0}),Ce(()=>{n.value=!1}),(f,g)=>(a(),d("div",it,[o("div",ut,[(a(!0),d(F,null,K(t.value,(c,h)=>(a(),d("div",{key:h,class:"item",style:De({transform:`translateY(${c}px)`})},null,4))),128))])]))}},_t=V(dt,[["__scopeId","data-v-329e39d7"]]);var O=(e=>(e[e.image=0]="image",e[e.document=1]="document",e[e.chat=2]="chat",e))(O||{}),E=(e=>(e[e.none=0]="none",e[e.image=1]="image",e[e.document=2]="document",e[e.feeling=3]="feeling",e[e.wordCloud=4]="wordCloud",e[e.all=5]="all",e))(E||{});const A=_e("knowledgeBase",()=>{const e=l(""),t=y=>{e.value=y},n=l("design_prompt"),p=y=>{n.value=y},f=l(["product"]),g=l([]),c=y=>{g.value=y},h=l(""),C=y=>{h.value=y},i=l([]),u=y=>{i.value=y},x=l(2),z=y=>{x.value=y},k=ce(()=>x.value),m=l(""),$=l(""),J=l(0),W=l(!1),N=y=>{W.value=y},I=l(!1),P=y=>{I.value=y},S=l([]),oe=l(""),se=l({name:"",url:""}),ae=l();return{RectData:l(),tableData:ae,oneProductMeta:$,oneProductDescription:m,selectedImage:se,processedPlotData:oe,plotMetaData:S,currentPlotStatus:J,kbNames:f,currentPrompt:n,setCurrentPrompt:p,finishedSurvey:I,setFinishedSurvey:P,currentPageStatus:k,currentId:e,setCurrentId:t,knowledgeBaseList:i,setKnowledgeBaseList:u,showDeleteModal:W,setShowDeleteModal:N,showDefault:x,setDefaultPage:z,currentKbName:h,setCurrentKbName:C,selectList:g,setSelectList:c}}),pe=_e("useChat",()=>{const e={role:"ai",message:"Hello, I'm your AI consultant. I can help you analysis products, Please choose one of the following scenario.",options:[]},t=l([e]),n=()=>{t.value=[e]},p=ce(()=>t.value[t.value.length-1].message),f=l(!1),g=l(""),c=l("");return{fixedOptions:l([{name:"image",type:"primary"},{name:"document",type:"primary"},{name:"chat",type:"primary"}]),lastMessage:p,QA_List:t,clearQAList:n,showModal:f,lastNote:g,lastComponents:c}});class pt{constructor(t){this.onConsume=t,this.queue=[],this.consuming=!1}dynamicSpeed(){const t=2e3/this.queue.length;return t>200?200:t}add(t){t&&this.queue.push(...t.split(""))}consume(){if(this.queue.length>0){const t=this.queue.shift();t&&this.onConsume(t)}}next(){this.consume(),this.timmer=setTimeout(()=>{this.consume(),this.consuming&&this.next()},this.dynamicSpeed())}start(){this.consuming=!0,this.next()}done(){this.consuming=!1,clearTimeout(this.timmer),this.onConsume(this.queue.join("")),this.queue=[]}}const ht=e=>(ee("data-v-ea947ea4"),e=e(),te(),e),mt={class:"relative h-screen flex flex-col"},gt={class:"relative w-20 shrink-0 flex flex-col items-center box-border"},vt={key:0,class:"fill-blue-100 h-8"},ft={key:1,class:"h-8"},yt={class:"text-ellipsis overflow-hidden w-full text-center leading-none"},wt={class:"text-sm"},xt={key:0,class:"flex justify-center items-center mt-3"},bt={key:1},kt=["src"],$t={key:0,class:"relative px-0 py-1.5"},Ct={class:"float-right text-sm my-2.5"},Dt={key:0,class:"flex justify-center items-center mt-3"},Pt={class:"relative h-14 box-border bg-neutral-200 rounded-lg border-solid border-2 focus:border-neutral-900"},It={class:"flex items-center absolute right-0 top-0 h-full"},St={class:"h-8 mt-2"},Mt=["disabled"],At=ht(()=>o("div",{class:"footer"},null,-1)),zt=Q({__name:"chatbox",setup(e){const{QA_List:t,fixedOptions:n}=R(pe()),{setDefaultPage:p,setFinishedSurvey:f,setCurrentPrompt:g}=A(),{currentPrompt:c,kbNames:h,plotMetaData:C,currentPlotStatus:i,selectedImage:u,oneProductDescription:x,oneProductMeta:z}=R(A()),k=new pt(_=>{_&&(t.value[t.value.length-1].message+=_||"")}),m="https://ai.minitool.fun:18778";let $="/api/questionnaire";"https://ai.minitool.fun:16367".split("/api")[0];const W=l(""),N=l(null),I=l("zzp"),P=l(""),S=l(!1),oe=["primary","success","warning"],se=l(""),ae=l(null),ie=ce(()=>{let _=[],r=[];return t.value.map((s,D)=>{D!==0&&(r.push(s.message),r.length===2&&(_.push(r),r=[]))}),_});let y;function ue(_){_==="image"&&(p(O.image),n.value.map((r,s)=>{r.name===_?r.type="danger":r.type="primary"})),_==="document"&&(p(O.document),n.value.map((r,s)=>{r.name===_?r.type="danger":r.type="primary"}),i.value=E.wordCloud,console.log("设定当前的绘图状态为wordCloud",i.value)),_==="chat"&&(p(O.chat),n.value=[])}const he=_=>{console.log(new Date().toLocaleString(),"开始上传文件，收到的组件传入参数是",_);const r=_.file;console.log(new Date().toLocaleString(),"文件名称是",r.name);const s=new FileReader;s.onloadend=()=>{const D=s.result;console.log(new Date().toLocaleString(),"文件base64内容是",D),se.value=D},s.readAsDataURL(r)},me=_=>{},ge=()=>{U({message:"最多只能上传一个文件！",type:"warning"})},ve=()=>{U({message:"上传文件失败！",type:"error"})},fe=()=>{U({message:"上传文件成功",type:"success"})},ye=_=>{t.value.push({message:_,role:"user"}),u.value.name&&(t.value[t.value.length-1].image=u.value.url,t.value[t.value.length-1].display_message="Analyze the below picture",u.value={name:"",url:""}),x.value&&(t.value[t.value.length-1].display_message=z.value),X()},we=()=>{t.value.push({message:"",role:"ai",copied:!1,like:!1,unlike:!1,source:[],showTools:!1})};function xe(_){const r=_.toLowerCase(),s=["sorry","apologies","apologize"];for(let D=0;D<s.length;D++)if(r.includes(s[D]))return!1;return!0}const Z=()=>{if(!P.value.length||S.value)return;console.log(new Date().toLocaleString(),"用户开始发送消息");const _=P.value;P.value="",ye(_),S.value=!0,y=new AbortController,ze(m+$,{method:"POST",headers:{"Content-Type":"application/json",Accept:["text/event-stream","application/json"]},body:JSON.stringify({user_id:I.value,history:ie.value,kb_names:h.value,question:_,streaming:!0,prompt:c.value}),signal:y.signal,onopen(r){if(console.log("开始连接服务器"),r.ok&&r.headers.get("content-type")==="text/event-stream")console.log("everything's good"),we(),k.start();else if(r.headers.get("content-type")==="application/json")return S.value=!1,r.json().then(s=>{s.msg!=="success"&&U({message:"出错了,请稍后刷新重试。",type:"error"})}).catch(s=>{console.log(s),U({message:"出错了,请稍后刷新重试。",type:"error"})})},onmessage(r){var D;console.log("开始接收服务器消息");const s=JSON.parse(r.data);if(console.log(s),(s==null?void 0:s.code)==200&&(s!=null&&s.response)&&(k.add(s==null?void 0:s.response),X()),(D=s==null?void 0:s.source_documents)!=null&&D.length){t.value[t.value.length-1].source=s==null?void 0:s.source_documents;const v=t.value[t.value.length-1].message,H=s==null?void 0:s.source_documents;let L=[];for(let ne of H)ne.meta_info&&L.push(ne.meta_info);xe(v)&&(console.log("获取到的元数据是:",L),C.value=L,ke())}},onclose(r){console.log("关闭连接,错误信息是",r),k.done(),y.abort(),S.value=!1,t.value[t.value.length-1].showTools=!0,de(()=>{X()})},onerror(r){throw console.log("发生了错误!",r),k==null||k.done(),y==null||y.abort(),S.value=!1,t.value[t.value.length-1].showTools=!0,U({message:"出错了",type:"error"}),de(()=>{X()}),r}})};function X(){console.log(new Date().toLocaleString(),"滚动屏幕"),setTimeout(()=>{N.value.scrollTop=N.value.scrollHeight},300)}function be(_){_.value=_,Z()}async function ke(){console.log("开始处理plotData",t.value)}return G(async()=>{if(u.value.name){console.log("用户选择了1张图片，开始对图片进行分析",u.value);const _=u.value.result.tags_en;P.value=_,c.value="image_explain",i.value=E.image}x.value&&(console.log("用户输入了产品描述，开始对产品描述进行分析",x.value),P.value=x.value,c.value="feeling_explain",i.value=E.feeling),Z(),console.log("输出:",t.value),g("design_prompt")}),(_,r)=>{const s=j("el-button"),D=j("el-upload");return a(),d("div",mt,[o("div",{class:"scroll-smooth bg-white relative overflow-auto flex-grow",ref_key:"messageRef",ref:N},[(a(!0),d(F,null,K(w(t),(v,H)=>(a(),d("div",{class:"box-border flex flex-col pt-4 pb-0 px-4 last:pb-4",key:H},[o("div",{class:le(v.role==="user"?"flex flex-row justify-end":"flex flex-row-reverse justify-end")},[o("div",{class:le(["whitespace-pre-wrap rounded-md p-3 border",v.role=="user"?"bg-blue-200":""])},q(v.display_message?v.display_message:v.message),3),o("div",gt,[v.role==="user"?(a(),d("div",vt,[b(et)])):(a(),d("div",ft,[b(We)])),o("div",yt,[o("span",wt,q(v.role),1)])])],2),v.options?(a(),d("div",xt,[(a(!0),d(F,null,K(v.options,(L,ne)=>(a(),T(s,{type:"danger",key:L,onClick:vo=>ue(L)},{default:M(()=>[Y(q(L),1)]),_:2},1032,["onClick"]))),128))])):B("",!0),v.image?(a(),d("div",bt,[o("img",{src:v.image,class:"w-full object-cover h-52"},null,8,kt)])):B("",!0)]))),128)),S.value?(a(),d("div",$t,[b(_t)])):B("",!0)],512),o("div",Ct,[(a(!0),d(F,null,K(W.value,(v,H)=>(a(),T(s,{key:H,type:oe[H],onClick:L=>be(v)},{default:M(()=>[Y(q(v),1)]),_:2},1032,["type","onClick"]))),128))]),w(n)?(a(),d("div",Dt,[(a(!0),d(F,null,K(w(n),(v,H)=>(a(),T(s,{key:v.name,type:v.type,onClick:L=>ue(v.name)},{default:M(()=>[Y(q(v.name),1)]),_:2},1032,["type","onClick"]))),128))])):B("",!0),o("div",Pt,[Pe(o("input",{onKeyup:Se(Z,["enter"]),placeholder:"输入问题",class:"h-full w-full border-transparent text-inherit appearance-none text-base grow m-0 px-4 p-0 border-0",type:"text","onUpdate:modelValue":r[0]||(r[0]=v=>P.value=v)},null,544),[[Ie,P.value]]),o("div",It,[b(D,{class:"ml-3 mr-3","show-file-list":!0,limit:1,"http-request":he,"before-upload":me,ref_key:"uploadFile",ref:ae,"on-exceed":ge,"on-success":fe,"on-error":ve,accept:"image/*"},{default:M(()=>[o("div",St,[b(at)])]),_:1},512),o("button",{disabled:!P.value||S.value,onClick:Z,class:"text-inherit block appearance-none text-base cursor-pointer mr-3 p-0 border-0 active:opacity-100 disabled:opacity-30 duration-200"},[b(rt)],8,Mt)])]),At])}}});const Lt=V(zt,[["__scopeId","data-v-ea947ea4"]]),Tt={class:"main overflow-auto scroll-smooth h-screen"},Bt={class:"columns-4"},jt=["src","onDblclick","onClick"],Ot=["src"],Rt={class:"flex justify-center items-center"},Ut=Q({__name:"imageAnalysis",setup(e){const{setDefaultPage:t}=A(),{selectedImage:n}=R(A()),p="https://ai.minitool.fun:16367",f=p+"/api/upload_predict",g=l([]),c=l(""),h=l(!1);function C(m){console.log("选择图片：",m),n.value=m}const i=async m=>{console.log("开始更新上传后的文件列表，上传的文件是是:",m),await k()},u=m=>{console.log("点击图片预览：",m),c.value=m.url,h.value=!0};async function x(){try{return(await re.post(p+"/api/list_upload",{})).data.data}catch(m){console.log(m),U({title:"Error",message:"处理元数据的接口请求失败"})}}function z(){t(O.chat)}async function k(){const m=await x();m.forEach($=>{$.name=$.image,$.url=p+"/"+$.image}),console.log(m),g.value=m}return G(async()=>{await k()}),(m,$)=>{const J=j("el-dialog"),W=j("el-icon"),N=j("el-upload");return a(),d("div",Tt,[o("div",Bt,[(a(!0),d(F,null,K(g.value,(I,P)=>(a(),d("img",{key:P,src:I.url,alt:"item.name",class:le(["w-26 aspect-square m-2",{"outline-yellow-600 outline-4 outline-dashed":I.name===w(n).name}]),onDblclick:S=>u(I),onClick:S=>C(I)},null,42,jt))),128))]),b(J,{modelValue:h.value,"onUpdate:modelValue":$[0]||($[0]=I=>h.value=I)},{default:M(()=>[o("img",{"w-full":"",src:c.value,alt:"Preview Image"},null,8,Ot)]),_:1},8,["modelValue"]),o("div",Rt,[b(N,{class:"avatar-uploader",action:f,"show-file-list":!1,"auto-upload":!0,"on-change":i},{default:M(()=>[b(W,{class:"w-26 h-26 p-2 m-2 border content-center",size:50},{default:M(()=>[b(w(Me))]),_:1})]),_:1}),o("button",{onClick:z,class:"block mx-10 my-5 px-5 py-3 text-xs rounded-md text-zinc-800 bg-lime-500 hover:bg-lime-700 hover:text-white duration-500"}," 确认 ")])])}}});const qt=V(Ut,[["__scopeId","data-v-ba65f42f"]]),Et={class:"main"},Vt=Q({__name:"documentAnalysis",setup(e){const{setDefaultPage:t}=A(),{oneProductDescription:n,oneProductMeta:p,tableData:f,RectData:g}=R(A()),c="https://ai.minitool.fun:16367";function h(i){console.log("start analyze",i);const u=f.value[i];n.value=`user's feeling:${u.dpops} ${u.pcat} ${u.pbat} ${u.eat}. user's group:${u.category_english}`,p.value=`dpops:${u.dpops},pcat:${u.pcat},pbat:${u.pbat},eat:${u.eat}`,t(O.chat)}async function C(){try{return(await re.post(c+"/api/baojie",{})).data.data}catch(i){console.log(i),U({title:"Error",message:"处理元数据的接口请求失败"})}}return G(async()=>{const i=await C();console.log(i),f.value=i.table_data,g.value=i.rectangle_data}),(i,u)=>{const x=j("el-table-column"),z=j("el-button"),k=j("el-table");return a(),d("div",Et,[b(k,{data:w(f),style:{width:"100%"}},{default:M(()=>[b(x,{prop:"serial",label:"Serial",width:"150"}),b(x,{prop:"dpops",label:"dpops",width:"120"}),b(x,{prop:"pcat",label:"pcat",width:"200"}),b(x,{prop:"pbat",label:"pbat",width:"200"}),b(x,{prop:"eat",label:"eat",width:"400"}),b(x,{fixed:"right",label:"Operations",width:"120"},{default:M(m=>[b(z,{link:"",type:"primary",size:"small",onClick:Ae($=>h(m.$index),["prevent"])},{default:M(()=>[Y("Analyze")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}});const Nt=V(Vt,[["__scopeId","data-v-d8410984"]]),Ht=e=>(ee("data-v-67322adc"),e=e(),te(),e),Ft={class:"main"},Kt=Ht(()=>o("p",{class:"text-center text-green-700"}," Similar products ",-1)),Gt={class:"image-gallery"},Qt=["href"],Wt=["src","alt"],Jt=["href"],Zt={class:"image-price"},Xt=Q({__name:"productPlot",setup(e){const n="https://ai.minitool.fun:16367".split("/api")[0],{plotMetaData:p}=R(A());return G(()=>{}),(f,g)=>(a(),d("div",Ft,[Kt,o("div",Gt,[(a(!0),d(F,null,K(w(p),c=>(a(),d("div",{key:c.english_name,class:"image-item"},[o("a",{href:c.link},[o("img",{src:`${w(n)}/product/${c.product_image}`,alt:c.english_name,class:"image"},null,8,Wt)],8,Qt),o("a",{class:"image-title",href:c.link},q(c.english_name),9,Jt),o("a",Zt,"Price: "+q(c.price.replace("元","￥")),1)]))),128))])]))}});const Yt=V(Xt,[["__scopeId","data-v-67322adc"]]),eo={key:0,class:"main p-6 border-2 border-gray-200 rounded-md"},to=["src"],oo={class:"text-center mt-4 bg-slate-200"},so=Q({__name:"generateIMGPlot",setup(e){const{processedPlotData:t,oneProductMeta:n,plotMetaData:p}=R(A());R(pe());const f="https://ai.minitool.fun:16367",g=f.split("/api")[0],c=l(""),h=l("");async function C(i){try{return(await re.post(f+"/api/generate",{positive_prompt:i,regenerate_prompt:!0,key:"feeling"})).data.data}catch(u){console.log(u)}}return G(async()=>{if(console.log("图片生成页面加载"),console.log("oneProductMeta",n.value),n){const i=await C(n.value);console.log("处理完成plotData参数display_data",i);const u=i.image_path;c.value=g+u,h.value=i.positive_prompt}}),(i,u)=>c.value?(a(),d("div",eo,[o("img",{src:c.value,alt:"package_design",class:"w-1/2 mx-auto"},null,8,to),o("div",oo,q(h.value),1)])):B("",!0)}});const ao=V(so,[["__scopeId","data-v-959fc055"]]),no=e=>(ee("data-v-02279df4"),e=e(),te(),e),lo={class:"main"},co=no(()=>o("div",{id:"rectangle",style:{width:"100%",height:"80vh"}},null,-1)),ro=Q({__name:"wordCloud",setup(e){const{oneProductDescription:t,oneProductMeta:n,RectData:p}=R(A());function f(g){document.getElementById("rectangle").setAttribute("_echarts_instance_","");let c=document.getElementById("rectangle"),h=Ne(c);h.hideLoading();const C=Fe;let i={title:{text:"People Clusters",left:"center"},tooltip:{formatter:function(x){for(var z=x.value,k=x.treePathInfo,m=[],$=1;$<k.length;$++)m.push(k[$].name);return['<div class="tooltip-title">'+C.encodeHTML(m.join("/"))+"</div>","Count: "+C.addCommas(z)].join("")}},series:[{name:"People Clusters",type:"treemap",visibleMin:5,label:{show:!0,formatter:"{b}"},itemStyle:{borderColor:"#fff"},levels:u(),data:g}]};function u(){return[{itemStyle:{borderWidth:0,gapWidth:5}},{itemStyle:{gapWidth:1}},{colorSaturation:[.35,.5],itemStyle:{gapWidth:1,borderColorSaturation:.6}}]}h.setOption(i)}return G(()=>{console.log("RectData",p.value),setTimeout(()=>{f(p.value)},1e3)}),(g,c)=>{const h=j("el-card");return a(),d("div",lo,[b(h,{style:{height:"85vh",width:"85vw"}},{default:M(()=>[co]),_:1})])}}});const io=V(ro,[["__scopeId","data-v-02279df4"]]),uo=e=>(ee("data-v-5fcb027f"),e=e(),te(),e),_o={class:"h-full grid grid-cols-2 bg-slate-200"},po={class:"bg-white m-2 border-solid border-slate-200 rounded-2xl h-screen"},ho=uo(()=>o("h1",{class:"text-slate-400"},"BaojieAI",-1)),mo={class:"bg-white m-2 border-solid border-slate-200 rounded-2xl overflow-auto h-screen scroll-smooth"},go=Q({__name:"index",setup(e){const{currentPageStatus:t,currentPlotStatus:n}=R(A());return(p,f)=>(a(),d("div",_o,[o("div",po,[o("div",null,[ho,w(t)===w(O).chat?(a(),T(Lt,{key:0})):w(t)===w(O).image?(a(),T(qt,{key:1})):w(t)===w(O).document?(a(),T(Nt,{key:2})):B("",!0)])]),o("div",mo,[w(n)===w(E).image||w(n)===w(E).feeling?(a(),T(Yt,{key:0})):B("",!0),w(n)===w(E).feeling?(a(),T(ao,{key:1})):B("",!0),w(n)===w(E).wordCloud?(a(),T(io,{key:2})):B("",!0)])]))}});const bo=V(go,[["__scopeId","data-v-5fcb027f"]]);export{bo as default};
