import{d as _,g as i,h as k,o as g,b as x,f as P,a as e,F as f,e as C,j as m,t as c,A as n,B as $,C as u,U,E as r}from"./index-f50d6d08.js";import{_ as V}from"./navHeader.vue_vue_type_script_setup_true_lang-f1ba1dcd.js";import{g as w,p as B,r as N,t as A}from"./api-a3faf747.js";import"./axios-a342f982.js";const M={class:"bar flex items-center justify-between flex-row h-16"},T=U('<div class="relative flex items-center md:mt-0 ml-auto w-1/4"><span class="absolute"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mx-3 text-gray-400 dark:text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></span><input type="text" placeholder="Search" class="block w-full py-1.5 pr-5 text-gray-700 bg-white border border-gray-200 rounded-lg md:w-80 placeholder-gray-400/70 pl-11 rtl:pr-11 rtl:pl-5 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40"></div>',1),j={class:"border-collapse w-full"},S=e("thead",null,[e("tr",null,[e("th",{class:"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell"}," Name"),e("th",{class:"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell"}," Prompt"),e("th",{class:"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell"}," Usage"),e("th",{class:"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell"}," KB"),e("th",{class:"p-3 font-bold uppercase w-40 bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell"}," Actions")])],-1),E={class:"w-full lg:w-auto p-3 text-gray-800 text-center border border-b block lg:table-cell relative lg:static"},O=e("span",{class:"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase"},"Name ",-1),z={class:"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static"},D=e("span",{class:"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase"},"Prompt",-1),F={class:"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static"},L=e("span",{class:"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase"},"Usage",-1),K={class:"rounded bg-green-400 py-1 px-3 text-xs font-bold"},q={class:"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static"},G=e("span",{class:"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase"},"Usage",-1),H={class:"rounded bg-red-200 py-1 px-3 text-xs font-bold"},I={class:"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static"},J=e("span",{class:"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase"},"Actions",-1),Q=["onClick"],R=["onClick"],W={class:"fixed z-20 h-screen w-1/4 bg-green-200 p-8 right-0 top-0","x-transition:enter":"transition ease-out duration-300","x-transition:enter-start":"-translate-x-72","x-transition:enter-end":"translate-x-0","x-transition:leave":"transition ease-in duration-300 ","x-transition:leave-start":"translate-x-0","x-transition:leave-end":"-translate-x-72","x-cloak":""},X=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"black",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),Y=[X],Z={class:"form-control w-full max-w-xs mb-6"},ee=e("div",{class:"label"},[e("span",{class:"label-text"},"Prompt 名称")],-1),te={class:"form-control w-full max-w-xs mb-6"},le=e("div",{class:"label"},[e("span",{class:"label-text"},"Prompt 内容")],-1),se={class:"form-control w-full max-w-xs mb-6"},ae=e("div",{class:"label"},[e("span",{class:"label-text"},"Prompt 用途")],-1),oe={class:"form-control w-full max-w-xs mb-6"},re=e("div",{class:"label"},[e("span",{class:"label-text"},"如果写知识库，那么answer将从知识库中获取上下文")],-1),ne={class:"flex justify-center"},be=_({__name:"toolsManage",setup(de){const d=i(),o=i(!1),s=i({name:"",prompt:"",usage:"",knowledge_base:""}),p=i(!1);async function h(){if(p.value){const a=await B(s.value);a.code===0?(r({message:"添加数据成功",type:"info"}),o.value=!1,await b(),p.value=!1,s.value={name:"",prompt:"",usage:"",knowledge_base:""}):r({message:`添加数据失败，${a.msg}，请检查接口`,type:"info"})}else{const a=await N(s.value);a.code===0?(r({message:"更新数据成功",type:"info"}),o.value=!1,await b(),s.value={name:"",prompt:"",usage:"",knowledge_base:""}):r({message:`更新数据失败，${a.msg}，请检查接口`,type:"info"})}}async function v(a){const l=await A({name:a});l.code===0?r({message:"删除数据成功",type:"info"}):r({message:`删除数据失败，${l.msg}`,type:"error"}),await b()}async function b(){const a=await w();d.value=a.data}return k(async()=>{const a=await w();d.value=a.data,console.log(d.value)}),(a,l)=>(g(),x(f,null,[P(V),e("div",M,[e("button",{class:"btn btn-outline btn-info btn-sm",onClick:l[0]||(l[0]=t=>{o.value=!0,p.value=!0})},"添加"),T]),e("table",j,[S,e("tbody",null,[(g(!0),x(f,null,C(d.value,t=>(g(),x("tr",{key:t.id,class:"bg-white lg:hover:bg-gray-100 flex lg:table-row flex-row lg:flex-row flex-wrap lg:flex-no-wrap mb-10 lg:mb-0"},[e("td",E,[O,m(" "+c(t.name),1)]),e("td",z,[D,m(" "+c(t.prompt),1)]),e("td",F,[L,e("span",K,c(t.usage),1)]),e("td",q,[G,e("span",H,c(t.knowledge_base),1)]),e("td",I,[J,e("a",{href:"#",class:"text-blue-400 hover:text-blue-600 underline",onClick:y=>{o.value=!0,s.value=t}},"修改",8,Q),e("a",{href:"#",class:"text-blue-400 hover:text-blue-600 underline pl-6",onClick:y=>v(t.name)},"删除",8,R)])]))),128))])]),n(e("nav",W,[e("button",{onClick:l[1]||(l[1]=t=>o.value=!1)},Y),e("label",Z,[ee,n(e("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=t=>s.value.name=t),placeholder:"Type here",class:"input input-bordered w-full max-w-xs"},null,512),[[u,s.value.name]])]),e("label",te,[le,n(e("textarea",{type:"text","onUpdate:modelValue":l[3]||(l[3]=t=>s.value.prompt=t),placeholder:"Type here",class:"input input-bordered w-full max-w-xs"},null,512),[[u,s.value.prompt]])]),e("label",se,[ae,n(e("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=t=>s.value.usage=t),placeholder:"Type here",class:"input input-bordered w-full max-w-xs"},null,512),[[u,s.value.usage]])]),e("label",oe,[re,n(e("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=t=>s.value.knowledge_base=t),placeholder:"Type here",class:"input input-bordered w-full max-w-xs"},null,512),[[u,s.value.knowledge_base]])]),e("div",ne,[e("button",{class:"btn btn-outline btn-info mt-6",onClick:l[6]||(l[6]=t=>h())},"确认")])],512),[[$,o.value]])],64))}});export{be as default};
