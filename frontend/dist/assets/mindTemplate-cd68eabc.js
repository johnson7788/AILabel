import{d as Et,L as St,g as _t,k as Ne,h as At,o as Tt,b as Lt,D as De,G as Ie,i as $e,_ as jt}from"./index-f50d6d08.js";import{S as Me,N as Dt}from"./utils-ac468565.js";import{s as It}from"./store-1a8c456b.js";(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".mind-elixir{--gap: 30px;--root-radius: 30px;--main-radius: 20px;--root-color: #ffffff;--root-bgcolor: #4c4f69;--main-color: #444446;--main-bgcolor: #ffffff;--topic-padding: 3px;--color: #777777;--bgcolor: #f6f6f6;--selected: #4dc4ff;--panel-color: #444446;--panel-bgcolor: #ffffff;--panel-border-color: #eaeaea;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0);font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif}.mind-elixir .hyper-link{color:#4f90f2;text-decoration:underline;margin-left:.3em}.mind-elixir .file-link{margin-left:.3em;color:#00f;text-decoration:underline}.mind-elixir .file-link:hover{color:red}.map-container{-webkit-user-select:none;user-select:none;height:100%;width:100%;overflow:scroll;font-size:15px}.map-container *{box-sizing:border-box}.map-container::-webkit-scrollbar{width:0px;height:0px}.map-container .selected{box-shadow:0 0 0 2px var(--selected)}.map-container .lhs{direction:rtl}.map-container .lhs me-tpc{direction:ltr}.map-container .map-canvas{height:20000px;width:20000px;position:relative;-webkit-user-select:none;user-select:none;transition:transform .3s;transform:scale(1);background-color:var(--bgcolor)}.map-container .map-canvas me-nodes{position:absolute;display:flex;justify-content:center;align-items:center;height:fit-content;width:fit-content}.map-container .map-canvas me-root{position:relative}.map-container .map-canvas me-root me-tpc{display:block;font-size:25px;color:var(--root-color);padding:10px var(--gap);border-radius:var(--root-radius);white-space:pre-wrap;background-color:var(--root-bgcolor)}.map-container .map-canvas me-root me-tpc #input-box{padding:10px var(--gap)}.map-container me-main>me-wrapper{position:relative;margin:45px 65px}.map-container me-main>me-wrapper>me-parent{margin:10px;padding:0}.map-container me-main>me-wrapper>me-parent>me-tpc{border-radius:var(--main-radius);background-color:var(--main-bgcolor);border:2px solid var(--main-color);color:var(--main-color);padding:8px 25px}.map-container me-main>me-wrapper>me-parent>me-tpc #input-box{padding:8px 25px}.map-container me-wrapper{display:block;pointer-events:none;width:fit-content}.map-container me-children,.map-container me-parent{display:inline-block;vertical-align:middle}.map-container me-parent{position:relative;cursor:pointer;padding:6px var(--gap);margin-top:10px}.map-container me-parent me-tpc{position:relative;display:block;border-radius:3px;color:var(--color);pointer-events:all;max-width:35em;white-space:pre-wrap;padding:var(--topic-padding)}.map-container me-parent me-tpc .insert-preview{position:absolute;width:100%;left:0;z-index:9}.map-container me-parent me-tpc .show{background:#7ad5ff;pointer-events:none;opacity:.7}.map-container me-parent me-tpc .before{height:14px;top:-14px}.map-container me-parent me-tpc .in{height:100%;top:0}.map-container me-parent me-tpc .after{height:14px;bottom:-14px}.map-container me-parent me-epd{position:absolute;height:18px;width:18px;opacity:.8;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdD0iMTY1NjY1NDcxNzI0MiIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+CiAgICA8cGF0aCBkPSJNNTEyIDc0LjY2NjY2N0MyNzAuOTMzMzMzIDc0LjY2NjY2NyA3NC42NjY2NjcgMjcwLjkzMzMzMyA3NC42NjY2NjcgNTEyUzI3MC45MzMzMzMgOTQ5LjMzMzMzMyA1MTIgOTQ5LjMzMzMzMyA5NDkuMzMzMzMzIDc1My4wNjY2NjcgOTQ5LjMzMzMzMyA1MTIgNzUzLjA2NjY2NyA3NC42NjY2NjcgNTEyIDc0LjY2NjY2N3oiIHN0cm9rZS13aWR0aD0iNTQiIHN0cm9rZT0nYmxhY2snIGZpbGw9J3doaXRlJyA+PC9wYXRoPgogICAgPHBhdGggZD0iTTY4Mi42NjY2NjcgNDgwaC0xMzguNjY2NjY3VjM0MS4zMzMzMzNjMC0xNy4wNjY2NjctMTQuOTMzMzMzLTMyLTMyLTMycy0zMiAxNC45MzMzMzMtMzIgMzJ2MTM4LjY2NjY2N0gzNDEuMzMzMzMzYy0xNy4wNjY2NjcgMC0zMiAxNC45MzMzMzMtMzIgMzJzMTQuOTMzMzMzIDMyIDMyIDMyaDEzOC42NjY2NjdWNjgyLjY2NjY2N2MwIDE3LjA2NjY2NyAxNC45MzMzMzMgMzIgMzIgMzJzMzItMTQuOTMzMzMzIDMyLTMydi0xMzguNjY2NjY3SDY4Mi42NjY2NjdjMTcuMDY2NjY3IDAgMzItMTQuOTMzMzMzIDMyLTMycy0xNC45MzMzMzMtMzItMzItMzJ6Ij48L3BhdGg+Cjwvc3ZnPg==);background-repeat:no-repeat;background-size:contain;background-position:center;pointer-events:all;z-index:9}.map-container me-parent me-epd.minus{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdD0iMTY1NjY1NTU2NDk4NSIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+CiAgICA8cGF0aCBkPSJNNTEyIDc0LjY2NjY2N0MyNzAuOTMzMzMzIDc0LjY2NjY2NyA3NC42NjY2NjcgMjcwLjkzMzMzMyA3NC42NjY2NjcgNTEyUzI3MC45MzMzMzMgOTQ5LjMzMzMzMyA1MTIgOTQ5LjMzMzMzMyA5NDkuMzMzMzMzIDc1My4wNjY2NjcgOTQ5LjMzMzMzMyA1MTIgNzUzLjA2NjY2NyA3NC42NjY2NjcgNTEyIDc0LjY2NjY2N3oiIHN0cm9rZS13aWR0aD0iNTQiIHN0cm9rZT0nYmxhY2snIGZpbGw9J3doaXRlJyA+PC9wYXRoPgogICAgPHBhdGggZD0iTTY4Mi42NjY2NjcgNTQ0SDM0MS4zMzMzMzNjLTE3LjA2NjY2NyAwLTMyLTE0LjkzMzMzMy0zMi0zMnMxNC45MzMzMzMtMzIgMzItMzJoMzQxLjMzMzMzNGMxNy4wNjY2NjcgMCAzMiAxNC45MzMzMzMgMzIgMzJzLTE0LjkzMzMzMyAzMi0zMiAzMnoiPjwvcGF0aD4KPC9zdmc+)!important;transition:opacity .3s;opacity:0}.map-container me-parent me-epd.minus:hover{opacity:.8}.map-container .icon{width:1em;height:1em;vertical-align:-.15em;fill:currentColor;overflow:hidden}.map-container .lines,.map-container .summary,.map-container .subLines,.map-container .topiclinks,.map-container .linkcontroller{position:absolute;height:102%;width:100%;top:0;left:0}.map-container .topiclinks,.map-container .linkcontroller,.map-container .summary{pointer-events:none}.map-container .topiclinks text,.map-container .linkcontroller text,.map-container .summary text{pointer-events:all}.map-container .topiclinks .selected,.map-container .linkcontroller .selected,.map-container .summary .selected{pointer-events:none}.map-container .lines,.map-container .subLines{pointer-events:none;z-index:-1}.map-container .topiclinks *,.map-container .linkcontroller *{z-index:100}.map-container .topiclinks g{cursor:pointer}.map-container #input-box{position:absolute;top:0;left:0;padding:var(--topic-padding);color:var(--color);background-color:var(--bgcolor);width:max-content;max-width:35em;z-index:11;direction:ltr;-webkit-user-select:auto;user-select:auto;pointer-events:all}.map-container me-tpc>*{pointer-events:none}.map-container me-tpc>img{display:block;margin-bottom:8px;object-fit:cover}.map-container me-tpc>.text{display:inline-block}.map-container .circle{position:absolute;height:10px;width:10px;margin-top:-5px;margin-left:-5px;border-radius:100%;background:#757575;border:2px solid #ffffff;cursor:pointer}.map-container .tags{direction:ltr}.map-container .tags span{display:inline-block;border-radius:3px;padding:2px 4px;background:#d6f0f8;color:#276f86;margin:2px 3px 0 0;font-size:12px;line-height:1.3em}.map-container .icons{display:inline-block;direction:ltr;margin-right:10px}.map-container .icons span{display:inline-block;line-height:1.3em}.map-container .mind-elixir-ghost{position:fixed;top:-100%;left:-100%;box-sizing:content-box;opacity:.5;background-color:#f6f6f6;max-width:200px;width:fit-content;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:8px 16px;border-radius:6px;border:#666666 2px solid}.map-container .selection-area{background:#4f90f22d;border:1px solid #4f90f2}.mind-elixir .context-menu{position:fixed;top:0;left:0;width:100%;height:100%;z-index:99}.mind-elixir .context-menu .menu-list{position:fixed;list-style:none;margin:0;padding:0;font:300 15px Roboto,sans-serif;color:var(--panel-color);box-shadow:0 12px 15px #0003}.mind-elixir .context-menu .menu-list li{min-width:200px;overflow:hidden;white-space:nowrap;padding:10px 14px;background:var(--panel-bgcolor);border-bottom:1px solid var(--panel-border-color)}.mind-elixir .context-menu .menu-list li a{color:#333;text-decoration:none}.mind-elixir .context-menu .menu-list li.disabled{display:none;color:#5e5e5e;background-color:#f7f7f7}.mind-elixir .context-menu .menu-list li.disabled:hover{cursor:default;background-color:#f7f7f7}.mind-elixir .context-menu .menu-list li:hover{cursor:pointer;filter:brightness(.9)}.mind-elixir .context-menu .menu-list li:first-child{border-radius:5px 5px 0 0}.mind-elixir .context-menu .menu-list li:last-child{border-bottom:0;border-radius:0 0 5px 5px}.mind-elixir .context-menu .menu-list li span:last-child{float:right}.mind-elixir .tips{position:absolute;bottom:20px;left:50%;transform:translate(-50%);color:var(--panel-color);font-weight:bolder}.mind-elixir .mobile-menu{position:absolute;left:20px;bottom:70px;z-index:99;margin:0;padding:0;color:#333;border-radius:5px;box-shadow:0 12px 15px #0003;overflow:hidden}.mind-elixir .mobile-menu *{transition:color .4s,background-color .4s}.mind-elixir .mobile-menu div{float:left;text-align:center;width:30px;overflow:hidden;white-space:nowrap;padding:8px;background-color:#fff;border-bottom:1px solid #ecf0f1}.mind-elixir .mobile-menu div a{color:#333;text-decoration:none}.mind-elixir .mobile-menu div.disabled{color:#5e5e5e;background-color:#f7f7f7}.mind-elixir .mobile-menu div.disabled:hover{cursor:default;background-color:#f7f7f7}.mind-elixir .mobile-menu div:hover{cursor:pointer;background-color:#ecf0f1}.mind-elixir-toolbar{font-family:iconfont;position:absolute;color:var(--panel-color);background:var(--panel-bgcolor);padding:10px;border-radius:5px;box-shadow:0 1px 2px #0003}.mind-elixir-toolbar svg{display:inline-block}.mind-elixir-toolbar span:active{opacity:.5}.mind-elixir-toolbar.rb{right:20px;bottom:20px}.mind-elixir-toolbar.rb span+span{margin-left:10px}.mind-elixir-toolbar.lt{font-size:20px;left:20px;top:20px}.mind-elixir-toolbar.lt span{display:block}.mind-elixir-toolbar.lt span+span{margin-top:10px}.info-box{background:antiquewhite;border:1px solid #ccc;padding:5px;position:absolute;pointer-events:auto!important;top:100%;left:0;z-index:10;display:flex;flex-direction:column}.ai-icon{display:inline-flex;align-items:center;position:absolute;pointer-events:auto!important;bottom:110%;left:45%;gap:10px;margin-left:10px;padding:5px;border-radius:5px;background-color:#fbf8f8cc;box-shadow:0 2px 5px #0000001a}.ai-icon .icon-retry,.ai-icon .icon-like{display:flex;align-items:center;justify-content:center;width:24px;height:24px;font-size:18px;cursor:pointer;border-radius:50%;transition:background-color .3s,transform .3s}.ai-icon .icon-retry:hover,.ai-icon .icon-like:hover{background-color:#f0f0f0}.ai-icon .icon-retry:active,.ai-icon .icon-like:active{transform:scale(.9)}.ai-icon .icon-retry{color:#ff9500}.ai-icon .icon-like{color:#4caf50}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();(function(e){var t,n,i,o,s,r,a='<svg><symbol id="icon-edit" viewBox="0 0 1024 1024"><path d="M423.765333 128a42.666667 42.666667 0 0 1 3.2 85.205333L423.765333 213.333333H234.666667a64 64 0 0 0-63.872 60.245334L170.666667 277.333333v512a64 64 0 0 0 60.245333 63.872L234.666667 853.333333h512a64 64 0 0 0 63.872-60.245333L810.666667 789.333333v-189.098666a42.666667 42.666667 0 0 1 85.205333-3.2l0.128 3.2V789.333333a149.333333 149.333333 0 0 1-144.213333 149.248L746.666667 938.666667h-512a149.333333 149.333333 0 0 1-149.248-144.213334L85.333333 789.333333v-512a149.333333 149.333333 0 0 1 144.213334-149.248L234.666667 128h189.098666z m324.949334-53.248a42.666667 42.666667 0 0 1 60.330666 0l150.869334 150.869333a42.666667 42.666667 0 0 1 0 60.330667l-329.386667 329.386667a42.666667 42.666667 0 0 1-29.44 12.458666l-153.386667 2.517334a42.666667 42.666667 0 0 1-43.349333-43.349334l2.56-153.386666a42.666667 42.666667 0 0 1 12.458667-29.44z m30.165333 90.496L491.946667 452.266667l-1.493334 91.989333 92.032-1.493333 286.976-286.976-90.538666-90.538667z"  ></path></symbol><symbol id="icon-rising" viewBox="0 0 1024 1024"><path d="M553.173333 803.84h-64l0.021334-474.581333-224.021334 224-45.269333-45.226667L521.6 206.293333l301.717333 301.696-45.269333 45.269334-224.853333-224.896v475.477333z"  ></path></symbol><symbol id="icon-falling" viewBox="0 0 1024 1024"><path d="M553.173333 238.314667h-64l0.021334 474.602666-224.021334-224-45.269333 45.226667L521.6 835.861333l301.717333-301.717333-45.269333-45.226667-224.853333 224.853334V238.336z"  ></path></symbol><symbol id="icon-shanchu2" viewBox="0 0 1024 1024"><path d="M516.60601807 107.93026734c-82.64382935 0-149.71865844 65.51751709-152.5729065 147.77160644H171.37136841c-21.40603638 0-38.92044068 17.38504028-38.92044068 38.92126465 0 21.40686036 17.38504028 38.92208862 38.92126466 38.92208862h42.94308471v435.40136719c0 81.73498536 55.39828492 148.55026245 123.90106201 148.55026245h348.99444581c68.37341309 0 123.90106201-66.42553711 123.901062-148.55026245V333.80477906h38.92126465c21.40686036 0 38.92126464-17.38586426 38.92126465-38.92208863 0-21.40686036-17.38504028-38.92126464-38.92126465-38.92126465H668.91854859C666.45321656 173.44860839 599.24902344 107.93109131 516.60601807 107.93109131z m-79.65939331 147.77160644c2.85424805-42.16442872 37.2354126-74.85809326 79.78875732-74.85809326s76.93450927 32.82302857 79.39984131 74.85809326H436.94662476z m-98.86047364 589.01165771c-24.2611084 0-50.98754883-31.13717651-50.98754883-75.76693725V333.80477906h450.97036744V769.33551026c0 44.50039673-26.72644043 75.76776123-50.98754884 75.76776122H338.08615112v-0.38973999z m0 0"  ></path><path d="M390.37063599 751.17263794c17.77313232 0 32.43411255-17.7739563 32.43411255-40.08883667V482.35504151c0-22.31488037-14.53079224-40.08966065-32.43411255-40.08966065-17.77478027 0-32.43493653 17.77478027-32.43493653 40.08966065v228.72875976c0 22.18469239 14.27124023 40.08883667 32.43493653 40.08883667z m117.41308594 0c17.7739563 0 32.43411255-17.7739563 32.43411255-40.08883667V482.35504151c0-22.31488037-14.53079224-40.08966065-32.43411255-40.08966065-17.7739563 0-32.43493653 17.77478027-32.43493653 40.08966065v228.72875976c0 22.18469239 14.66098023 40.08883667 32.43493653 40.08883667z m123.51049804 0c17.7739563 0 32.43493653-17.7739563 32.43493652-40.08883667V482.35504151c0-22.31488037-14.53079224-40.08966065-32.43493652-40.08966065-17.7739563 0-32.43411255 17.77478027-32.43411255 40.08966065v228.72875976c0 22.18469239 14.14105224 40.08883667 32.43411255 40.08883667z m0 0"  ></path></symbol><symbol id="icon-zijiedian" viewBox="0 0 1024 1024"><path d="M312.208 472c19.568-157.856 153.432-280 315.656-280 175.68 0 318.112 143.272 318.112 320S803.552 832 627.864 832c-162.224 0-296.08-122.144-315.656-280H120a40 40 0 0 1 0-80h192.208zM632 752c132.552 0 240-107.448 240-240 0-132.552-107.448-240-240-240-132.552 0-240 107.448-240 240 0 132.552 107.448 240 240 240z m-40-280v-80a40 40 0 0 1 80 0v80h80a40 40 0 0 1 0 80h-80v80a40 40 0 0 1-80 0v-80h-80a40 40 0 0 1 0-80h80z"  ></path></symbol><symbol id="icon-tongjijiedian-" viewBox="0 0 1024 1024"><path d="M803.84 131.626667H410.24A59.733333 59.733333 0 0 0 350.506667 192v45.226667H199.68a51.626667 51.626667 0 0 0-51.626667 51.626666v465.92a51.626667 51.626667 0 0 0 51.626667 51.626667h187.52v-55.466667h-162.133333a21.333333 21.333333 0 0 1-21.333334-21.333333V313.386667a21.333333 21.333333 0 0 1 21.333334-21.333334h125.653333v64a59.733333 59.733333 0 0 0 59.733333 59.733334h393.386667a59.733333 59.733333 0 0 0 59.733333-59.733334V192a59.733333 59.733333 0 0 0-59.733333-60.373333z m4.266667 224.64a4.266667 4.266667 0 0 1-4.266667 4.266666H410.24a4.266667 4.266667 0 0 1-4.266667-4.266666V192a4.266667 4.266667 0 0 1 4.266667-4.266667h393.6a4.266667 4.266667 0 0 1 4.266667 4.266667zM716.16 749.44h-81.28v-81.493333a27.733333 27.733333 0 0 0-55.466667 0v81.28h-81.493333a27.733333 27.733333 0 1 0 0 55.466666h81.28v81.28a27.733333 27.733333 0 1 0 55.466667 0v-81.066666h81.28a27.733333 27.733333 0 0 0 0-55.466667z"  ></path></symbol><symbol id="icon-close" viewBox="0 0 1024 1024"><path d="M557.312 513.248l265.28-263.904c12.544-12.48 12.608-32.704 0.128-45.248-12.512-12.576-32.704-12.608-45.248-0.128L512.128 467.904l-263.04-263.84c-12.448-12.48-32.704-12.544-45.248-0.064-12.512 12.48-12.544 32.736-0.064 45.28l262.976 263.776L201.6 776.8c-12.544 12.48-12.608 32.704-0.128 45.248a31.937 31.937 0 0 0 22.688 9.44c8.16 0 16.32-3.104 22.56-9.312l265.216-263.808 265.44 266.24c6.24 6.272 14.432 9.408 22.656 9.408a31.94 31.94 0 0 0 22.592-9.344c12.512-12.48 12.544-32.704 0.064-45.248L557.312 513.248z" fill="" ></path></symbol><symbol id="icon-menu" viewBox="0 0 1024 1024"><path d="M109.714 292.571h804.572c21.943 0 36.571-21.942 36.571-43.885 0-14.629-14.628-29.257-36.571-29.257H109.714c-21.943 0-36.571 14.628-36.571 36.571 0 14.629 14.628 36.571 36.571 36.571zM914.286 512H109.714c-21.943 0-36.571 14.629-36.571 36.571 0 14.629 14.628 36.572 36.571 36.572h804.572c21.943 0 36.571-21.943 36.571-43.886 0-14.628-14.628-29.257-36.571-29.257z m0 292.571H109.714c-21.943 0-36.571 14.629-36.571 36.572s14.628 36.571 36.571 36.571h804.572c21.943 0 36.571-21.943 36.571-36.571 0-21.943-14.628-36.572-36.571-36.572z"  ></path></symbol><symbol id="icon-right" viewBox="0 0 1024 1024"><path d="M385 560.69999999L385 738.9c0 36.90000001 26.4 68.5 61.3 68.5l150.2 0c1.5 0 3-0.1 4.5-0.3 10.2 38.7 45.5 67.3 87.5 67.3 50 0 90.5-40.5 90.5-90.5s-40.5-90.5-90.5-90.5c-42 0-77.3 28.6-87.5 67.39999999-1.4-0.3-2.9-0.4-4.5-0.39999999L446.3 760.4c-6.8 0-14.3-8.9-14.3-21.49999999l0-427.00000001c0-12.7 7.40000001-21.5 14.30000001-21.5l150.19999999 0c1.5 0 3-0.2 4.5-0.4 10.2 38.8 45.5 67.3 87.5 67.3 50 0 90.5-40.5 90.5-90.4 0-49.9-40.5-90.6-90.5-90.59999999-42 0-77.3 28.6-87.5 67.39999999-1.4-0.2-2.9-0.4-4.49999999-0.4L446.3 243.3c-34.80000001 0-61.3 31.6-61.3 68.50000001L385 513.7l-79.1 0c-10.4-38.5-45.49999999-67-87.4-67-50 0-90.5 40.5-90.5 90.5s40.5 90.5 90.5 90.5c41.79999999 0 77.00000001-28.4 87.4-67L385 560.69999999z" fill="" ></path></symbol><symbol id="icon-left" viewBox="0 0 1024 1024"><path d="M639 463.30000001L639 285.1c0-36.90000001-26.4-68.5-61.3-68.5l-150.2 0c-1.5 0-3 0.1-4.5 0.3-10.2-38.7-45.5-67.3-87.5-67.3-50 0-90.5 40.5-90.5 90.5s40.5 90.5 90.5 90.5c42 0 77.3-28.6 87.5-67.39999999 1.4 0.3 2.9 0.4 4.5 0.39999999L577.7 263.6c6.8 0 14.3 8.9 14.3 21.49999999l0 427.00000001c0 12.7-7.40000001 21.5-14.30000001 21.5l-150.19999999 0c-1.5 0-3 0.2-4.5 0.4-10.2-38.8-45.5-67.3-87.5-67.3-50 0-90.5 40.5-90.5 90.4 0 49.9 40.5 90.6 90.5 90.59999999 42 0 77.3-28.6 87.5-67.39999999 1.4 0.2 2.9 0.4 4.49999999 0.4L577.7 780.7c34.80000001 0 61.3-31.6 61.3-68.50000001L639 510.3l79.1 0c10.4 38.5 45.49999999 67 87.4 67 50 0 90.5-40.5 90.5-90.5s-40.5-90.5-90.5-90.5c-41.79999999 0-77.00000001 28.4-87.4 67L639 463.30000001z" fill="" ></path></symbol><symbol id="icon-side" viewBox="0 0 1024 1024"><path d="M851.91168 328.45312c-59.97056 0-108.6208 48.47104-108.91264 108.36992l-137.92768 38.4a109.14304 109.14304 0 0 0-63.46752-46.58688l1.39264-137.11872c47.29344-11.86816 82.31936-54.66624 82.31936-105.64096 0-60.15488-48.76288-108.91776-108.91776-108.91776s-108.91776 48.76288-108.91776 108.91776c0 49.18784 32.60928 90.75712 77.38368 104.27392l-1.41312 138.87488a109.19936 109.19936 0 0 0-63.50336 48.55808l-138.93632-39.48544 0.01024-0.72704c0-60.15488-48.76288-108.91776-108.91776-108.91776s-108.91776 48.75776-108.91776 108.91776c0 60.15488 48.76288 108.91264 108.91776 108.91264 39.3984 0 73.91232-20.92032 93.03552-52.2496l139.19232 39.552-0.00512 0.2304c0 25.8304 9.00096 49.5616 24.02816 68.23424l-90.14272 132.63872a108.7488 108.7488 0 0 0-34.2528-5.504c-60.15488 0-108.91776 48.768-108.91776 108.91776 0 60.16 48.76288 108.91776 108.91776 108.91776 60.16 0 108.92288-48.75776 108.92288-108.91776 0-27.14624-9.9328-51.968-26.36288-71.04l89.04704-131.03104a108.544 108.544 0 0 0 37.6832 6.70208 108.672 108.672 0 0 0 36.48512-6.272l93.13792 132.57216a108.48256 108.48256 0 0 0-24.69888 69.0688c0 60.16 48.768 108.92288 108.91776 108.92288 60.16 0 108.91776-48.76288 108.91776-108.92288 0-60.14976-48.75776-108.91776-108.91776-108.91776a108.80512 108.80512 0 0 0-36.69504 6.3488l-93.07136-132.48a108.48768 108.48768 0 0 0 24.79616-72.22784l136.09984-37.888c18.99008 31.93856 53.84192 53.3504 93.69088 53.3504 60.16 0 108.92288-48.75776 108.92288-108.91264-0.00512-60.15488-48.77312-108.92288-108.92288-108.92288z"  ></path></symbol><symbol id="icon-B" viewBox="0 0 1024 1024"><path d="M98.067692 65.457231H481.28c75.854769 0 132.411077 3.150769 169.668923 9.452307 37.336615 6.301538 70.656 19.534769 100.036923 39.620924 29.459692 20.007385 53.956923 46.710154 73.570462 80.029538 19.692308 33.398154 29.459692 70.734769 29.459692 112.167385 0 44.898462-12.130462 86.094769-36.233846 123.588923a224.886154 224.886154 0 0 1-98.461539 84.283077c58.368 17.092923 103.266462 46.08 134.695385 87.04 31.350154 40.96 47.025231 89.088 47.025231 144.462769 0 43.638154-10.082462 86.016-30.404923 127.212308-20.243692 41.196308-47.891692 74.043077-83.02277 98.697846-35.052308 24.654769-78.296615 39.778462-129.732923 45.449846-32.295385 3.465846-110.119385 5.671385-233.472 6.537846H98.067692V65.457231z m193.536 159.507692V446.621538h126.818462c75.460923 0 122.328615-1.024 140.603077-3.229538 33.083077-3.938462 59.155692-15.36 78.139077-34.343385 18.904615-18.904615 28.435692-43.874462 28.435692-74.830769 0-29.696-8.192-53.720615-24.497231-72.310154-16.384-18.510769-40.644923-29.696-72.940307-33.634461-19.140923-2.205538-74.279385-3.308308-165.415385-3.308308h-111.064615z m0 381.243077v256.315077h179.2c69.710769 0 113.979077-1.969231 132.726154-5.907692 28.750769-5.198769 52.145231-17.959385 70.262154-38.281847 18.116923-20.243692 27.096615-47.340308 27.096615-81.368615 0-28.750769-6.931692-53.169231-20.873846-73.255385a118.232615 118.232615 0 0 0-60.494769-43.795692c-26.387692-9.137231-83.574154-13.705846-171.638154-13.705846H291.603692z"  ></path></symbol><symbol id="icon-a" viewBox="0 0 1024 1024"><path d="M757.76 665.6q0 20.48 1.536 34.304t7.68 22.016 18.944 12.288 34.304 4.096q-3.072 25.6-15.36 44.032-11.264 16.384-33.28 29.696t-62.976 13.312q-11.264 0-20.48-0.512t-17.408-2.56l-6.144-2.048-1.024 0q-4.096-1.024-10.24-4.096-2.048-2.048-4.096-2.048-1.024-1.024-2.048-1.024-14.336-8.192-23.552-17.408t-14.336-17.408q-6.144-10.24-9.216-20.48-63.488 75.776-178.176 75.776-48.128 0-88.064-15.36t-69.12-44.032-45.056-68.096-15.872-88.576 16.896-89.088 47.616-67.584 74.24-42.496 96.768-14.848q48.128 0 88.576 17.408t66.048 49.152q0-8.192 0.512-16.384t0.512-15.36q0-71.68-39.936-104.448t-128-32.768q-43.008 0-84.992 6.656t-84.992 17.92q14.336-28.672 25.088-47.616t24.064-29.184q30.72-24.576 158.72-24.576 79.872 0 135.168 13.824t90.624 43.52 51.2 75.264 15.872 108.032l0 200.704zM487.424 743.424q50.176 0 79.872-33.28t29.696-95.744q0-61.44-28.672-93.696t-76.8-32.256q-52.224 0-82.944 33.28t-30.72 94.72q0 58.368 31.744 92.672t77.824 34.304z"  ></path></symbol><symbol id="icon-full" viewBox="0 0 1024 1024"><path d="M639.328 416c8.032 0 16.096-3.008 22.304-9.056l202.624-197.184-0.8 143.808c-0.096 17.696 14.144 32.096 31.808 32.192 0.064 0 0.128 0 0.192 0 17.6 0 31.904-14.208 32-31.808l1.248-222.208c0-0.672-0.352-1.248-0.384-1.92 0.032-0.512 0.288-0.896 0.288-1.408 0.032-17.664-14.272-32-31.968-32.032L671.552 96l-0.032 0c-17.664 0-31.968 14.304-32 31.968C639.488 145.632 653.824 160 671.488 160l151.872 0.224-206.368 200.8c-12.672 12.32-12.928 32.608-0.64 45.248C622.656 412.736 630.976 416 639.328 416z"  ></path><path d="M896.032 639.552 896.032 639.552c-17.696 0-32 14.304-32.032 31.968l-0.224 151.872-200.832-206.4c-12.32-12.64-32.576-12.96-45.248-0.64-12.672 12.352-12.928 32.608-0.64 45.248l197.184 202.624-143.808-0.8c-0.064 0-0.128 0-0.192 0-17.6 0-31.904 14.208-32 31.808-0.096 17.696 14.144 32.096 31.808 32.192l222.24 1.248c0.064 0 0.128 0 0.192 0 0.64 0 1.12-0.32 1.76-0.352 0.512 0.032 0.896 0.288 1.408 0.288l0.032 0c17.664 0 31.968-14.304 32-31.968L928 671.584C928.032 653.952 913.728 639.584 896.032 639.552z"  ></path><path d="M209.76 159.744l143.808 0.8c0.064 0 0.128 0 0.192 0 17.6 0 31.904-14.208 32-31.808 0.096-17.696-14.144-32.096-31.808-32.192L131.68 95.328c-0.064 0-0.128 0-0.192 0-0.672 0-1.248 0.352-1.888 0.384-0.448 0-0.8-0.256-1.248-0.256 0 0-0.032 0-0.032 0-17.664 0-31.968 14.304-32 31.968L96 352.448c-0.032 17.664 14.272 32 31.968 32.032 0 0 0.032 0 0.032 0 17.664 0 31.968-14.304 32-31.968l0.224-151.936 200.832 206.4c6.272 6.464 14.624 9.696 22.944 9.696 8.032 0 16.096-3.008 22.304-9.056 12.672-12.32 12.96-32.608 0.64-45.248L209.76 159.744z"  ></path><path d="M362.368 617.056l-202.624 197.184 0.8-143.808c0.096-17.696-14.144-32.096-31.808-32.192-0.064 0-0.128 0-0.192 0-17.6 0-31.904 14.208-32 31.808l-1.248 222.24c0 0.704 0.352 1.312 0.384 2.016 0 0.448-0.256 0.832-0.256 1.312-0.032 17.664 14.272 32 31.968 32.032L352.448 928c0 0 0.032 0 0.032 0 17.664 0 31.968-14.304 32-31.968s-14.272-32-31.968-32.032l-151.936-0.224 206.4-200.832c12.672-12.352 12.96-32.608 0.64-45.248S375.008 604.704 362.368 617.056z"  ></path></symbol><symbol id="icon-add" viewBox="0 0 1024 1024"><path d="M863.328 482.56l-317.344-1.12L545.984 162.816c0-17.664-14.336-32-32-32s-32 14.336-32 32l0 318.4L159.616 480.064c-0.032 0-0.064 0-0.096 0-17.632 0-31.936 14.24-32 31.904C127.424 529.632 141.728 544 159.392 544.064l322.592 1.152 0 319.168c0 17.696 14.336 32 32 32s32-14.304 32-32l0-318.944 317.088 1.12c0.064 0 0.096 0 0.128 0 17.632 0 31.936-14.24 32-31.904C895.264 496.992 880.96 482.624 863.328 482.56z"  ></path></symbol><symbol id="icon-move" viewBox="0 0 1024 1024"><path d="M863.744 544 163.424 544c-17.664 0-32-14.336-32-32s14.336-32 32-32l700.32 0c17.696 0 32 14.336 32 32S881.44 544 863.744 544z"  ></path></symbol><symbol id="icon-living" viewBox="0 0 1024 1024"><path d="M514.133333 488.533333m-106.666666 0a106.666667 106.666667 0 1 0 213.333333 0 106.666667 106.666667 0 1 0-213.333333 0Z" fill="" ></path><path d="M512 64C264.533333 64 64 264.533333 64 512c0 236.8 183.466667 428.8 416 445.866667v-134.4c-53.333333-59.733333-200.533333-230.4-200.533333-334.933334 0-130.133333 104.533333-234.666667 234.666666-234.666666s234.666667 104.533333 234.666667 234.666666c0 61.866667-49.066667 153.6-145.066667 270.933334l-59.733333 68.266666V960C776.533333 942.933333 960 748.8 960 512c0-247.466667-200.533333-448-448-448z" fill="" ></path></symbol><symbol id="icon-multinode" viewBox="360 180 70 60"><rect stroke="#000" id="svg_1" height="10" width="16" y="199.5" x="392" fill=""/><rect id="svg_3" height="10" width="16" y="216.5" x="392" stroke="#000" fill=""/><rect stroke="#000" id="svg_7" height="10" width="16" y="206.5" x="370" fill=""/><rect stroke="#000" id="svg_8" height="10" width="16" y="191.5" x="415" fill=""/><rect id="svg_9" height="10" width="16" y="208.5" x="415" stroke="#000" fill=""/><rect stroke="#000" id="svg_10" height="10" width="16" y="208.5" x="415" fill=""/><rect stroke="#000" id="svg_11" height="10" width="16" y="226.5" x="415" fill=""/></symbol><symbol id="icon-download" viewBox="0 0 20 20"><path fill="" stroke="black" stroke-width="1" d="M15.608,6.262h-2.338v0.935h2.338c0.516,0,0.934,0.418,0.934,0.935v8.879c0,0.517-0.418,0.935-0.934,0.935H4.392c-0.516,0-0.935-0.418-0.935-0.935V8.131c0-0.516,0.419-0.935,0.935-0.935h2.336V6.262H4.392c-1.032,0-1.869,0.837-1.869,1.869v8.879c0,1.031,0.837,1.869,1.869,1.869h11.216c1.031,0,1.869-0.838,1.869-1.869V8.131C17.478,7.099,16.64,6.262,15.608,6.262z M9.513,11.973c0.017,0.082,0.047,0.162,0.109,0.226c0.104,0.106,0.243,0.143,0.378,0.126c0.135,0.017,0.274-0.02,0.377-0.126c0.064-0.065,0.097-0.147,0.115-0.231l1.708-1.751c0.178-0.183,0.178-0.479,0-0.662c-0.178-0.182-0.467-0.182-0.645,0l-1.101,1.129V1.588c0-0.258-0.204-0.467-0.456-0.467c-0.252,0-0.456,0.209-0.456,0.467v9.094L8.443,9.553c-0.178-0.182-0.467-0.182-0.645,0c-0.178,0.184-0.178,0.479,0,0.662L9.513,11.973z"></path></symbol></svg>',c=(c=document.getElementsByTagName("script"))[c.length-1].getAttribute("data-injectcss");if(c&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch{}}function d(){s||(s=!0,i())}t=function(){var u,m,l,g;(g=document.createElement("div")).innerHTML=a,a=null,(l=g.getElementsByTagName("svg")[0])&&(l.setAttribute("aria-hidden","true"),l.style.position="absolute",l.style.width=0,l.style.height=0,l.style.overflow="hidden",u=l,(m=document.body).firstChild?(g=u,(l=m.firstChild).parentNode.insertBefore(g,l)):m.appendChild(u))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(t,0):(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(i=t,o=e.document,s=!1,(r=function(){try{o.documentElement.doScroll("left")}catch{return void setTimeout(r,50)}d()})(),o.onreadystatechange=function(){o.readyState=="complete"&&(o.onreadystatechange=null,d())})})(window);const O=0,G=1,xe=2,U=30,it={name:"Latte",palette:["#dd7878","#ea76cb","#8839ef","#e64553","#fe640b","#df8e1d","#40a02b","#209fb5","#1e66f5","#7287fd"],cssVar:{"--main-color":"#444446","--main-bgcolor":"#ffffff","--color":"#777777","--bgcolor":"#f6f6f6","--panel-color":"#444446","--panel-bgcolor":"#ffffff","--panel-border-color":"#eaeaea"}},ot={name:"Dark",palette:["#848FA0","#748BE9","#D2F9FE","#4145A5","#789AFA","#706CF4","#EF987F","#775DD5","#FCEECF","#DA7FBC"],cssVar:{"--main-color":"#ffffff","--main-bgcolor":"#4c4f69","--color":"#cccccc","--bgcolor":"#252526","--panel-color":"#ffffff","--panel-bgcolor":"#2d3748","--panel-border-color":"#696969"}};function pe(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}const $t=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),fe=function(e,t){if(t.id===e)return t;if(t.children&&t.children.length){for(let n=0;n<t.children.length;n++){const i=fe(e,t.children[n]);if(i)return i}return null}else return null},W=(e,t)=>{if(e.parent=t,e.children)for(let n=0;n<e.children.length;n++)W(e.children[n],e)};function _e(e){if(e.id=ne(),e.children)for(let t=0;t<e.children.length;t++)_e(e.children[t])}const Ft=(e,t)=>{let n=Date.now();return function(...i){Date.now()-n<t||(e(...i),n=Date.now())}};function st(e,t,n,i){const o=i-t,s=e-n;let r=Math.atan(Math.abs(o)/Math.abs(s))/3.14*180;s<0&&o>0&&(r=180-r),s<0&&o<0&&(r=180+r),s>0&&o<0&&(r=360-r);const a=15,c=30,d=r+c,u=r-c;return{x1:n+Math.cos(Math.PI*d/180)*a,y1:i-Math.sin(Math.PI*d/180)*a,x2:n+Math.cos(Math.PI*u/180)*a,y2:i-Math.sin(Math.PI*u/180)*a}}function ne(){return(new Date().getTime().toString(16)+Math.random().toString(16).substr(2)).substr(2,16)}const Ot=function(){const e=ne();return{topic:this.newTopicName,id:e}};function Ae(e){return JSON.parse(JSON.stringify(e,(t,n)=>{if(t!=="parent")return n}))}const X=(e,t)=>{let n=0,i=0;for(;t&&t!==e;)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{offsetLeft:n,offsetTop:i}},S=(e,t)=>{for(const n in t)e.setAttribute(n,t[n])},Ce=e=>e?e.tagName==="ME-TPC":!1,be=e=>e.filter(t=>{for(let n=0;n<e.length;n++)if(t!==e[n]&&e[n].parentElement.parentElement.contains(t))return!1;return!0}),F={moved:!1,mousedown:!1,onMove(e,t){if(this.mousedown){this.moved=!0;const n=e.movementX,i=e.movementY;t.scrollTo(t.scrollLeft-n,t.scrollTop-i)}},clear(){this.moved=!1,this.mousedown=!1}};function Pt(e){e.map.addEventListener("click",t=>{var n,i;if(t.button!==0)return;if((n=e.helper1)!=null&&n.moved){e.helper1.clear();return}if((i=e.helper2)!=null&&i.moved){e.helper2.clear();return}if(F.moved){F.clear();return}const o=t.target;if(e.clearSelection(),!(o.classList&&o.classList.contains("info-box")))if(o.tagName==="ME-EPD")e.expandNode(o.previousSibling);else if(Ce(o))e.selectNode(o,!1,t);else if(e.editable)o.tagName==="text"?o.dataset.type==="custom-link"?e.selectArrow(o.parentElement):e.selectSummary(o.parentElement):o.className;else return}),e.map.addEventListener("dblclick",t=>{if(t.preventDefault(),!e.editable)return;const n=t.target;Ce(n)?e.beginEdit(n):n.tagName==="text"&&(n.dataset.type==="custom-link"?e.editArrowLabel(n.parentElement):e.editSummary(n.parentElement))}),e.map.addEventListener("mousemove",t=>{t.target.contentEditable!=="true"&&F.onMove(t,e.container)}),e.map.addEventListener("mousedown",t=>{const n=e.mouseSelectionButton===0?2:0;t.button===n&&t.target.contentEditable!=="true"&&(F.moved=!1,F.mousedown=!0)}),e.map.addEventListener("mouseleave",t=>{const n=e.mouseSelectionButton===0?2:0;t.button===n&&F.clear()}),e.map.addEventListener("mouseup",t=>{const n=e.mouseSelectionButton===0?2:0;t.button===n&&F.clear()}),e.map.addEventListener("contextmenu",t=>{t.preventDefault()})}const Bt={create(){return{handlers:{},showHandler:function(){},addListener:function(e,t){this.handlers[e]===void 0&&(this.handlers[e]=[]),this.handlers[e].push(t)},fire:function(e,...t){if(this.handlers[e]instanceof Array){const n=this.handlers[e];for(let i=0;i<n.length;i++)n[i](...t)}},removeListener:function(e,t){if(!this.handlers[e])return;const n=this.handlers[e];if(!t)n.length=0;else if(n.length)for(let i=0;i<n.length;i++)n[i]===t&&this.handlers[e].splice(i,1)}}}},ge=document,Ht=function(){this.nodes.innerHTML="";const e=this.createTopic(this.nodeData);Te(e,this.nodeData),e.draggable=!1;const t=ge.createElement("me-root");t.appendChild(e);const n=this.nodeData.children||[];if(this.direction===xe){let i=0,o=0;n.map(s=>{s.direction===O?i+=1:s.direction===G?o+=1:i<=o?(s.direction=O,i+=1):(s.direction=G,o+=1)})}qt(this,n,t)},qt=function(e,t,n){const i=ge.createElement("me-main");i.className="lhs";const o=ge.createElement("me-main");o.className="rhs";for(let s=0;s<t.length;s++){const r=t[s],{grp:a}=e.createWrapper(r);e.direction===xe?r.direction===O?i.appendChild(a):o.appendChild(a):e.direction===O?i.appendChild(a):o.appendChild(a)}e.nodes.appendChild(i),e.nodes.appendChild(n),e.nodes.appendChild(o),e.nodes.appendChild(e.lines)},Rt=function(e,t){const n=ge.createElement("me-children");for(let i=0;i<t.length;i++){const o=t[i],{grp:s}=e.createWrapper(o);n.appendChild(s)}return n},D=document,_=(e,t)=>{const n=(t?t.mindElixirBox:D).querySelector(`[data-nodeid=me${e}]`);if(!n)throw new Error(`FindEle: Node ${e} not found, maybe it's collapsed.`);return n},Te=function(e,t){if(e.innerHTML="",t.style&&(e.style.color=t.style.color||"",e.style.background=t.style.background||"",e.style.fontSize=t.style.fontSize+"px",e.style.fontWeight=t.style.fontWeight||"normal"),t.dangerouslySetInnerHTML){e.innerHTML=t.dangerouslySetInnerHTML;return}if(t.image){const n=t.image;if(n.url&&n.width&&n.height){const i=D.createElement("img");i.src=n.url,i.style.width=n.width+"px",i.style.height=n.height+"px",e.appendChild(i),e.image=i}}else e.image&&(e.image=void 0);{const n=D.createElement("span");n.className="text",n.textContent=t.topic,e.appendChild(n),e.text=n}if(t.hyperLink){const n=D.createElement("a");n.className="hyper-link",n.target="_blank",n.innerText="🔗",n.href=t.hyperLink,e.appendChild(n),e.linkContainer=n}else e.linkContainer&&(e.linkContainer=void 0);if(t.mind){const n=D.createElement("a");n.className="hyper-link",n.target="_blank",n.innerText="𝕞",n.href=t.mind.url,e.appendChild(n),e.mindContainer=n}else e.mindContainer&&(e.mindContainer=void 0);if(t.file){const n=D.createElement("a");n.className="file-link",n.target="_blank",n.innerText=t.file.name,n.href=t.file.url,e.appendChild(n),e.fileContainer=n}else e.fileContainer&&(e.fileContainer=void 0);if(t.icons&&t.icons.length){const n=D.createElement("span");n.className="icons",n.innerHTML=t.icons.map(i=>`<span>${pe(i)}</span>`).join(""),e.appendChild(n),e.icons=n}else e.icons&&(e.icons=void 0);if(t.tags&&t.tags.length){const n=D.createElement("div");n.className="tags",n.innerHTML=t.tags.map(i=>`<span>${pe(i)}</span>`).join(""),e.appendChild(n),e.tags=n}else e.tags&&(e.tags=void 0)},Yt=function(e,t){const n=D.createElement("me-wrapper"),{p:i,tpc:o}=this.createParent(e);if(n.appendChild(i),!t&&e.children&&e.children.length>0){const s=Le(e.expanded);if(i.appendChild(s),e.expanded!==!1){const r=Rt(this,e.children);n.appendChild(r)}}return{grp:n,top:i,tpc:o}},Kt=function(e){const t=D.createElement("me-parent"),n=this.createTopic(e);return Te(n,e),t.appendChild(n),{p:t,tpc:n}},Ut=function(e){const t=D.createElement("me-children");return t.append(...e),t},Wt=function(e){const t=D.createElement("me-tpc");return t.nodeObj=e,t.dataset.nodeid="me"+e.id,t.draggable=this.draggable,t};function rt(e){const t=D.createRange();t.selectNodeContents(e);const n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(t))}const Xt=function(e){if(!e)return;const t=D.createElement("div"),n=e.text.textContent;e.appendChild(t),t.id="input-box",t.textContent=n,t.contentEditable="true",t.spellcheck=!1,t.style.cssText=`min-width:${e.offsetWidth-8}px;`,this.direction===O&&(t.style.right="0"),t.focus(),rt(t),this.bus.fire("operation",{name:"beginEdit",obj:e.nodeObj}),t.addEventListener("keydown",i=>{i.stopPropagation();const o=i.key;if(o==="Enter"||o==="Tab"){if(i.shiftKey)return;i.preventDefault(),t==null||t.blur(),this.map.focus()}}),t.addEventListener("blur",()=>{var i;if(!t)return;const o=e.nodeObj,s=((i=t.textContent)==null?void 0:i.trim())||"";s===""?o.topic=n:o.topic=s,t.remove(),s!==n&&(e.text.textContent=o.topic,this.linkDiv(),this.bus.fire("operation",{name:"finishEdit",obj:o,origin:n}))}),t.addEventListener("paste",i=>{var o;const s=e.nodeObj,r=(o=i.clipboardData)==null?void 0:o.items;if(r){for(let a of r)if(a.type.startsWith("image/")){const c=a.getAsFile();c&&Vt(this,s,c)}}})};function Vt(e,t,n){const i=new FormData;i.append("file",n),i.append("node_id",t.id),fetch(e.apiInterface.uploadAPI,{method:"POST",body:i}).then(o=>o.json()).then(o=>{if(o.code===0){const s=o.data.filePath,r=new URL(e.apiInterface.uploadAPI),a=`${`${r.protocol}//${r.host}`}/${s}`;Gt(e,t,a)}}).catch(o=>{})}function Gt(e,t,n){const i=e.findEle(t.id),o={url:n,height:90,width:90};t.image=o,e.reshapeNode(i,t)}const Le=function(e){const t=D.createElement("me-epd");return t.expanded=e!==!1,t.className=e!==!1?"minus":"",t},ee=document,te="http://www.w3.org/2000/svg",at=function(e,t,n){const i=ee.createElementNS(te,"path");return S(i,{d:e,stroke:t||"#666",fill:"none","stroke-width":n}),i},ae=function(e){const t=ee.createElementNS(te,"svg");return t.setAttribute("class",e),t.setAttribute("overflow","visible"),t},Fe=function(){const e=ee.createElementNS(te,"line");return e.setAttribute("stroke","#bbb"),e.setAttribute("fill","none"),e.setAttribute("stroke-width","2"),e},Zt=function(e,t){const n={stroke:"rgb(235, 95, 82)",fill:"none","stroke-linecap":"cap","stroke-width":"2"},i=ee.createElementNS(te,"g"),o=ee.createElementNS(te,"path"),s=ee.createElementNS(te,"path");return S(s,{d:t,...n}),S(o,{d:e,...n,"stroke-dasharray":"8,2"}),i.appendChild(o),i.appendChild(s),i},lt=function(e,t,n){if(!t)return;const i=document.createElement("div");e.nodes.appendChild(i);const o=t.innerHTML;i.id="input-box",i.textContent=o,i.contentEditable="true",i.spellcheck=!1;const s=t.getAttribute("x"),r=t.getAttribute("y");i.style.cssText=`min-width:88px;position:absolute;left:${s}px;top:${r}px;`;const a=t.getAttribute("text-anchor");a==="end"?i.style.cssText+="transform: translate(-100%, -100%);":a==="middle"?i.style.cssText+="transform: translate(-50%, -100%);":i.style.cssText+="transform: translate(0, -100%);",i.focus(),rt(i),i.addEventListener("keydown",c=>{c.stopPropagation();const d=c.key;if(d==="Enter"||d==="Tab"){if(c.shiftKey)return;c.preventDefault(),i.blur(),e.map.focus()}}),i.addEventListener("blur",()=>{i&&n(i)})},Jt=function(e){const t=this.map.querySelector("me-root"),n=t.offsetTop,i=t.offsetLeft,o=t.offsetWidth,s=t.offsetHeight;this.nodes.style.top=`${1e4-this.nodes.offsetHeight/2}px`,this.nodes.style.left=`${1e4-i-o/2}px`;const r=this.map.querySelectorAll("me-main > me-wrapper");this.lines.innerHTML="";for(let a=0;a<r.length;a++){const c=r[a],d=c.querySelector("me-tpc"),{offsetLeft:u,offsetTop:m}=X(this.nodes,d),l=d.offsetWidth,g=d.offsetHeight,p=c.parentNode.className,f=this.generateMainBranch({pT:n,pL:i,pW:o,pH:s,cT:m,cL:u,cW:l,cH:g,direction:p,containerHeight:this.nodes.offsetHeight}),z=this.theme.palette,w=d.nodeObj.branchColor||z[a%z.length];d.style.borderColor=w,this.lines.appendChild(at(f,w,"3"));const x=c.children[0].children[1];if(x&&(x.style.top=(x.parentNode.offsetHeight-x.offsetHeight)/2+"px",p==="lhs"?x.style.left="-10px":x.style.right="-10px"),e&&e!==c)continue;const v=ae("subLines"),k=c.lastChild;k.tagName==="svg"&&k.remove(),c.appendChild(v),ct(this,v,w,c,p,!0)}this.renderArrow(),this.renderSummary()},ct=function(e,t,n,i,o,s){const r=i.firstChild,a=i.children[1].children;if(a.length===0)return;const c=r.offsetTop,d=r.offsetLeft,u=r.offsetWidth,m=r.offsetHeight;for(let l=0;l<a.length;l++){const g=a[l],p=g.firstChild,f=p.offsetTop,z=p.offsetLeft,w=p.offsetWidth,x=p.offsetHeight,v=p.firstChild.nodeObj.branchColor||n,k=e.generateSubBranch({pT:c,pL:d,pW:u,pH:m,cT:f,cL:z,cW:w,cH:x,direction:o,isFirst:s});t.appendChild(at(k,v,"2"));const y=p.children[1];if(y){if(y.style.bottom=-(y.offsetHeight/2)+"px",o==="lhs"?y.style.left="10px":o==="rhs"&&(y.style.right="10px"),!y.expanded)continue}else continue;ct(e,t,v,g,o)}},Oe={answerChild:"回答并插入子节点",addChild:"插入子节点",addParent:"插入父节点",addSibling:"插入同级节点",removeNode:"删除节点",focus:"专注",cancelFocus:"取消专注",moveUp:"上移",moveDown:"下移",link:"连接",clickTips:"请点击目标节点",summary:"摘要",upload:"上传"},Pe={cn:Oe,zh_CN:Oe,zh_TW:{answerChild:"回答并插入子節點",addChild:"插入子節點",addParent:"插入父節點",addSibling:"插入同級節點",removeNode:"刪除節點",focus:"專注",cancelFocus:"取消專注",moveUp:"上移",moveDown:"下移",link:"連接",clickTips:"請點擊目標節點",summary:"摘要",upload:"上传"},en:{answerChild:"Answer and Add child",addChild:"Add child",addParent:"Add parent",addSibling:"Add sibling",removeNode:"Remove node",focus:"Focus Mode",cancelFocus:"Cancel Focus Mode",moveUp:"Move up",moveDown:"Move down",link:"Link",clickTips:"Please click the target node",summary:"Summary",upload:"Upload"},ru:{answerChild:"Добавить дочерний элемент",addChild:"Добавить дочерний элемент",addParent:"Добавить родительский элемент",addSibling:"Добавить на этом уровне",removeNode:"Удалить узел",focus:"Режим фокусировки",cancelFocus:"Отменить режим фокусировки",moveUp:"Поднять выше",moveDown:"Опустить ниже",link:"Ссылка",clickTips:"Пожалуйста, нажмите на целевой узел",summary:"Описание",upload:"Описание"},ja:{answerChild:"子ノードを追加する",addChild:"子ノードを追加する",addParent:"親ノードを追加します",addSibling:"兄弟ノードを追加する",removeNode:"ノードを削除",focus:"集中",cancelFocus:"集中解除",moveUp:"上へ移動",moveDown:"下へ移動",link:"コネクト",clickTips:"ターゲットノードをクリックしてください",summary:"概要",upload:"概要"},pt:{answerChild:"Adicionar item filho",addChild:"Adicionar item filho",addParent:"Adicionar item pai",addSibling:"Adicionar item irmao",removeNode:"Remover item",focus:"Modo Foco",cancelFocus:"Cancelar Modo Foco",moveUp:"Mover para cima",moveDown:"Mover para baixo",link:"Link",clickTips:"Favor clicar no item alvo",summary:"Resumo",upload:"Resumo"},it:{answerChild:"Aggiungi figlio",addChild:"Aggiungi figlio",addParent:"Aggiungi genitore",addSibling:"Aggiungi fratello",removeNode:"Rimuovi nodo",focus:"Modalità Focus",cancelFocus:"Annulla Modalità Focus",moveUp:"Sposta su",moveDown:"Sposta giù",link:"Collega",clickTips:"Si prega di fare clic sul nodo di destinazione",summary:"Unisci nodi",upload:"Unisci nodi"},es:{answerChild:"Agregar hijo",addChild:"Agregar hijo",addParent:"Agregar padre",addSibling:"Agregar hermano",removeNode:"Eliminar nodo",focus:"Modo Enfoque",cancelFocus:"Cancelar Modo Enfoque",moveUp:"Mover hacia arriba",moveDown:"Mover hacia abajo",link:"Enlace",clickTips:"Por favor haga clic en el nodo de destino",summary:"Resumen",upload:"Resumen"}};function Qt(e,t){const n=y=>{const M=document.createElement("div");return M.innerText=y,M.className="tips",M},i=(y,M,T)=>{const A=document.createElement("li");return A.id=y,A.innerHTML=`<span>${pe(M)}</span><span>${pe(T)}</span>`,A},o=Pe[e.locale]?e.locale:"en",s=Pe[o],r=i("cm-answer_child",s.answerChild,"a"),a=i("cm-add_child",s.addChild,"tab"),c=i("cm-add_parent",s.addParent,""),d=i("cm-add_sibling",s.addSibling,"enter"),u=i("cm-remove_child",s.removeNode,"delete"),m=i("cm-fucus",s.focus,""),l=i("cm-unfucus",s.cancelFocus,""),g=i("cm-up",s.moveUp,"PgUp"),p=i("cm-down",s.moveDown,"Pgdn"),f=i("cm-link",s.link,""),z=i("cm-upload",s.upload,"u"),w=i("cm-summary",s.summary,""),x=document.createElement("ul");if(x.className="menu-list",x.appendChild(r),x.appendChild(a),x.appendChild(c),x.appendChild(d),x.appendChild(u),(!t||t.focus)&&(x.appendChild(m),x.appendChild(l)),x.appendChild(g),x.appendChild(p),x.appendChild(w),(!t||t.link)&&x.appendChild(f),x.appendChild(z),t&&t.extend)for(let y=0;y<t.extend.length;y++){const M=t.extend[y],T=i(M.name,M.name,M.key||"");x.appendChild(T),T.onclick=A=>{M.onclick(A)}}const v=document.createElement("div");v.className="context-menu",v.appendChild(x),v.hidden=!0,e.container.append(v);let k=!0;e.container.oncontextmenu=function(y){if(y.preventDefault(),!e.editable)return;const M=y.target;if(Ce(M)){M.parentElement.tagName==="ME-ROOT"?k=!0:k=!1,k?(m.className="disabled",g.className="disabled",p.className="disabled",c.className="disabled",d.className="disabled",u.className="disabled"):(m.className="",g.className="",p.className="",c.className="",d.className="",u.className=""),e.currentNodes||e.selectNode(M),v.hidden=!1,F.mousedown&&(F.mousedown=!1),x.style.top="",x.style.bottom="",x.style.left="",x.style.right="";const T=x.getBoundingClientRect(),A=x.offsetHeight,P=x.offsetWidth,B=y.clientY-T.top,oe=y.clientX-T.left;A+B>window.innerHeight?(x.style.top="",x.style.bottom="0px"):(x.style.bottom="",x.style.top=B+15+"px"),P+oe>window.innerWidth?(x.style.left="",x.style.right="0px"):(x.style.right="",x.style.left=oe+10+"px")}},v.onclick=y=>{y.target===v&&(v.hidden=!0)},r.onclick=()=>{e.answerChild(),v.hidden=!0},z.onclick=()=>{e.upload(),v.hidden=!0},a.onclick=()=>{e.addChild(),v.hidden=!0},c.onclick=()=>{e.insertParent(),v.hidden=!0},d.onclick=()=>{k||(e.insertSibling("after"),v.hidden=!0)},u.onclick=()=>{k||(e.removeNode(),v.hidden=!0)},m.onclick=()=>{k||(e.focusNode(e.currentNode),v.hidden=!0)},l.onclick=()=>{e.cancelFocus(),v.hidden=!0},g.onclick=()=>{k||(e.moveUpNode(),v.hidden=!0)},p.onclick=()=>{k||(e.moveDownNode(),v.hidden=!0)},f.onclick=()=>{v.hidden=!0;const y=e.currentNode,M=n(s.clickTips);e.container.appendChild(M),e.map.addEventListener("click",T=>{T.preventDefault(),M.remove();const A=T.target;(A.parentElement.tagName==="ME-PARENT"||A.parentElement.tagName==="ME-ROOT")&&e.createArrow(y,A)},{once:!0})},w.onclick=()=>{v.hidden=!0,e.createSummary(),e.unselectNodes()}}const en=e=>{const t=e.map.querySelectorAll(".lhs>me-wrapper>me-parent>me-tpc");e.selectNode(t[Math.ceil(t.length/2)-1])},tn=e=>{const t=e.map.querySelectorAll(".rhs>me-wrapper>me-parent>me-tpc");e.selectNode(t[Math.ceil(t.length/2)-1])},nn=e=>{e.selectNode(e.map.querySelector("me-root>me-tpc"))},on=function(e,t){const n=t.parentElement.parentElement.parentElement.previousSibling;if(n){const i=n.firstChild;e.selectNode(i)}},sn=function(e,t){const n=t.parentElement.nextSibling;if(n&&n.firstChild){const i=n.firstChild.firstChild.firstChild;e.selectNode(i)}},Be=function(e,t){var n,i;const o=e.currentNode||((n=e.currentNodes)==null?void 0:n[0]);if(!o)return;const s=o.nodeObj,r=o.offsetParent.offsetParent.parentElement;s.root?t==="lhs"?en(e):tn(e):r.className===t?sn(e,o):(i=s.parent)!=null&&i.root?nn(e):on(e,o)},He=function(e,t){var n;const i=e.currentNode||((n=e.currentNodes)==null?void 0:n[0]);if(!i||i.nodeObj.root)return;const o=t+"Sibling",s=i.parentElement.parentElement[o];s&&e.selectNode(s.firstChild.firstChild)};function qe(e){if(!e)return"";let t="";return e.forEach(n=>{t=t+dt(n)+`

`}),t}function dt(e,t=1){let n=`${"#".repeat(t)} ${e.topic}

`;return e.children&&e.children.length>0&&e.children.forEach(i=>{n+=dt(i,t+1)}),n}function rn(e){const t=()=>{e.currentArrow?e.removeArrow():e.currentSummary?e.removeSummary(e.currentSummary.summaryObj.id):e.currentNode?e.removeNode():e.currentNodes&&e.removeNodes(e.currentNodes)},n={13:i=>{i.shiftKey?e.insertSibling("before"):i.ctrlKey?e.insertParent():e.insertSibling("after")},65:()=>{e.answerChild()},68:()=>{e.downloadImage("png")},77:i=>{if(i.metaKey||i.ctrlKey){let o="";e.currentNode?o=qe([e.currentNode.nodeObj]):e.currentNodes&&(o=qe(e.currentNodes.map(s=>s.nodeObj))),navigator.clipboard.writeText(o).then(()=>{alert("Text copied to clipboard!")})}else{e.apiInterface.singleNode=!e.apiInterface.singleNode;const o=document.querySelector("#multinode");if(o){const s=o.querySelector("use");s&&(e.apiInterface.singleNode?s.style.fill="":s.style.fill="red")}}},85:()=>{e.upload()},9:()=>{e.addChild()},112:()=>{e.toCenter()},113:()=>{e.beginEdit()},38:i=>{if(i.altKey)e.moveUpNode();else{if(i.metaKey||i.ctrlKey)return e.initSide();He(e,"previous")}},40:i=>{i.altKey?e.moveDownNode():He(e,"next")},37:i=>{if(i.metaKey||i.ctrlKey)return e.initLeft();Be(e,"lhs")},39:i=>{if(i.metaKey||i.ctrlKey)return e.initRight();Be(e,"rhs")},33(){e.moveUpNode()},34(){e.moveDownNode()},67:i=>{(i.metaKey||i.ctrlKey)&&(e.currentNode?e.waitCopy=[e.currentNode]:e.currentNodes&&(e.waitCopy=e.currentNodes))},86:async i=>{if(e.currentNode&&(i.metaKey||i.ctrlKey))if(e.waitCopy)e.waitCopy.length===1?e.copyNode(e.waitCopy[0],e.currentNode):e.copyNodes(e.waitCopy,e.currentNode),e.waitCopy=null;else{const o=await navigator.clipboard.readText();if(o){const s=e.currentNode;if(e.apiInterface.singleNode){const r={topic:o,id:e.generateUUID()};e.addChild(e.currentNode,r),e.bus.fire("operation",{name:"addChild",obj:r})}else{const r=o.split(`
`).filter(a=>a.trim()!=="");for(let a of r){const c={topic:a.trim(),id:e.generateUUID()};e.addChild(s,c),e.bus.fire("operation",{name:"addChild",obj:c})}}}}},187:i=>{if(i.metaKey||i.ctrlKey){if(e.scaleVal>1.6)return;e.scale(e.scaleVal+=.2)}},189:i=>{if(i.metaKey||i.ctrlKey){if(e.scaleVal<.6)return;e.scale(e.scaleVal-=.2)}},48:i=>{(i.metaKey||i.ctrlKey)&&e.scale(1)},8:t,46:t};e.map.onkeydown=i=>{if(i.metaKey&&i.altKey&&i.keyCode===73||(i.metaKey||i.ctrlKey)&&i.keyCode===70||(i.preventDefault(),!e.editable)||i.target!==i.currentTarget)return;const o=n[i.keyCode];o&&o(i)}}function an(e,t){const n=(l,g)=>{const p=document.createElement("div");return p.id=l,p.innerHTML=`<svg class="icon" aria-hidden="true">
    <use xlink:href="#icon-${g}"></use>
  </svg>`,p},i=n("cm-add_child","zijiedian"),o=n("cm-add_sibling","tongjijiedian-"),s=n("cm-remove_child","shanchu2"),r=n("cm-up","rising"),a=n("cm-down","falling"),c=n("cm-edit","edit"),d=document.createElement("ul");if(d.className="menu-list",t&&t.extend)for(let l=0;l<t.extend.length;l++){const g=t.extend[l],p=n(g.name,g.name);d.appendChild(p),p.onclick=f=>{g.onclick(f)}}const u=document.createElement("mmenu");u.className="mobile-menu",u.appendChild(i),u.appendChild(o),u.appendChild(s),u.appendChild(r),u.appendChild(a),u.appendChild(c),u.hidden=!0,e.container.append(u);let m=!0;e.bus.addListener("unselectNode",function(){u.hidden=!0}),e.bus.addListener("selectNode",function(l){u.hidden=!1,l.root?m=!0:m=!1}),u.onclick=l=>{l.target===u&&(u.hidden=!0)},i.onclick=()=>{e.addChild()},o.onclick=()=>{m||e.insertSibling("after")},s.onclick=()=>{m||e.removeNode()},r.onclick=l=>{m||e.moveUpNode()},a.onclick=l=>{m||e.moveDownNode()},c.onclick=l=>{e.beginEdit()}}const Ee=document,ln=function(e,t){if(!t)return Se(e),e;let n=e.querySelector(".insert-preview");const i=`insert-preview ${t} show`;return n||(n=Ee.createElement("div"),e.appendChild(n)),n.className=i,e},Se=function(e){if(!e)return;const t=e.querySelectorAll(".insert-preview");for(const n of t||[])n.remove()},Re=function(e,t){for(const n of t){const i=n.parentElement.parentElement.contains(e);if(!(e&&e.tagName==="ME-TPC"&&e!==n&&!i&&e.nodeObj.root!==!0))return!1}return!0},cn=function(e){const t=document.createElement("div");return t.className="mind-elixir-ghost",e.map.appendChild(t),t};function dn(e){let t=null,n=null,i=null;const o=cn(e),s=12;e.map.addEventListener("dragstart",r=>{var a,c;const d=r.target;if((d==null?void 0:d.tagName)!=="ME-TPC"){r.preventDefault();return}(a=e.currentNodes)!=null&&a.includes(d)||(e.unselectNodes(),e.selectNode(d)),e.currentNodes?(t=e.currentNodes,o.innerHTML=e.currentNodes.length+" nodes"):(t=[d],o.innerHTML=d.innerHTML);for(const u of t)u.parentElement.parentElement.style.opacity="0.5";(c=r.dataTransfer)==null||c.setDragImage(o,0,0),F.clear()}),e.map.addEventListener("dragend",async r=>{if(!t)return;for(const c of t)c.parentElement.parentElement.style.opacity="1";const a=r.target;a.style.opacity="",i&&(Se(i),n==="before"?e.moveNodeBefore(t,i):n==="after"?e.moveNodeAfter(t,i):n==="in"&&e.moveNodeIn(t,i),t=null)}),e.map.addEventListener("dragover",Ft(function(r){if(!t)return;Se(i);const a=Ee.elementFromPoint(r.clientX,r.clientY-s);if(Re(a,t)){i=a;const c=a.getBoundingClientRect().y;r.clientY>c+a.clientHeight?n="after":n="in"}else{const c=Ee.elementFromPoint(r.clientX,r.clientY+s);if(Re(c,t)){i=c;const d=c.getBoundingClientRect().y;r.clientY<d?n="before":n="in"}else n=i=null}i&&ln(i,n)},100))}const un=function(e){return["createSummary","removeSummary","finishEditSummary"].includes(e.name)?{type:"summary",value:e.obj.id}:["createArrow","removeArrow","finishEditArrowLabel"].includes(e.name)?{type:"arrow",value:e.obj.id}:["removeNodes","copyNodes","moveNodeBefore","moveNodeAfter","moveNodeIn"].includes(e.name)?{type:"nodes",value:e.objs.map(t=>t.id)}:{type:"node",value:e.obj.id}};function mn(e){let t=[],n=-1,i=e.getData();e.bus.addListener("operation",o=>{if(o.name==="beginEdit")return;t=t.slice(0,n+1);const s=e.getData();t.push({prev:i,currentObject:un(o),next:s}),i=s,n=t.length-1}),e.undo=function(){if(n>-1){const o=t[n];i=o.prev,e.refresh(o.prev),o.currentObject.type==="node"?e.selectNode(_(o.currentObject.value)):o.currentObject.type==="nodes"&&e.selectNodes(o.currentObject.value.map(s=>_(s))),n--}},e.redo=function(){if(n<t.length-1){n++;const o=t[n];i=o.next,e.refresh(o.next),o.currentObject.type==="node"?e.selectNode(_(o.currentObject.value)):o.currentObject.type==="nodes"&&e.selectNodes(o.currentObject.value.map(s=>_(s)))}},e.map.addEventListener("keydown",o=>{(o.metaKey||o.ctrlKey)&&o.shiftKey&&o.key==="Z"?e.redo():(o.metaKey||o.ctrlKey)&&o.key==="z"&&e.undo()})}const q=(e,t,n)=>{const i=document.createElement("span");return i.id=e,i.innerHTML=`<svg class="icon" aria-hidden="true">
    <use xlink:href="#icon-${t}"></use>
  </svg>`,i.title=n,i};function hn(e){const t=document.createElement("div"),n=q("fullscreen","full","全屏显示"),i=q("toCenter","living","居中显示"),o=q("zoomout","move","缩小"),s=q("zoomin","add","放大"),r=document.createElement("span");return r.innerText="100%",t.appendChild(n),t.appendChild(i),t.appendChild(o),t.appendChild(s),t.className="mind-elixir-toolbar rb",n.onclick=()=>{e.container.requestFullscreen()},i.onclick=()=>{e.toCenter()},o.onclick=()=>{e.scaleVal<.6||e.scale(e.scaleVal-=.2)},s.onclick=()=>{e.scaleVal>1.6||e.scale(e.scaleVal+=.2)},t}function pn(e){const t=document.createElement("div"),n=q("tbltl","left","左对齐"),i=q("tbltr","right","右对齐"),o=q("tblts","side","两侧对齐"),s=q("multinode","multinode","多节点生成"),r=q("downpng","download","下载png");return t.appendChild(n),t.appendChild(i),t.appendChild(o),t.appendChild(s),t.appendChild(r),t.className="mind-elixir-toolbar lt",n.onclick=()=>{e.initLeft()},i.onclick=()=>{e.initRight()},o.onclick=()=>{e.initSide()},s.onclick=()=>{const a=s.firstElementChild;a&&(e.apiInterface.singleNode=!e.apiInterface.singleNode,e.apiInterface.singleNode?a.style.fill="":a.style.fill="red")},r.onclick=async()=>{await e.downloadImage("png")},t}function fn(e){e.container.append(hn(e)),e.container.append(pn(e))}/*! @viselect/vanilla v3.5.1 MIT | https://github.com/Simonwep/selection/tree/master/packages/vanilla */var gn=Object.defineProperty,zn=(e,t,n)=>t in e?gn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t,n)=>(zn(e,typeof t!="symbol"?t+"":t,n),n);class xn{constructor(){E(this,"_listeners",new Map),E(this,"on",this.addEventListener),E(this,"off",this.removeEventListener),E(this,"emit",this.dispatchEvent)}addEventListener(t,n){const i=this._listeners.get(t)??new Set;return this._listeners.set(t,i),i.add(n),this}removeEventListener(t,n){var i;return(i=this._listeners.get(t))==null||i.delete(n),this}dispatchEvent(t,...n){let i=!0;for(const o of this._listeners.get(t)??[])i=o(...n)!==!1&&i;return i}unbindAllListeners(){this._listeners.clear()}}const Ye=(e,t="px")=>typeof e=="number"?e+t:e;function Y({style:e},t,n){if(typeof t=="object")for(const[i,o]of Object.entries(t))o!==void 0&&(e[i]=Ye(o));else n!==void 0&&(e[t]=Ye(n))}const ut=e=>(t,n,i,o={})=>{t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);for(const s of t)if(s)for(const r of n)s[e](r,i,{capture:!1,...o});return[t,n,i,o]},Z=ut("addEventListener"),K=ut("removeEventListener"),ue=e=>{var t;const{clientX:n,clientY:i,target:o}=((t=e.touches)==null?void 0:t[0])??e;return{x:n,y:i,target:o}};function Ke(e,t,n="touch"){switch(n){case"center":{const i=t.left+t.width/2,o=t.top+t.height/2;return i>=e.left&&i<=e.right&&o>=e.top&&o<=e.bottom}case"cover":return t.left>=e.left&&t.top>=e.top&&t.right<=e.right&&t.bottom<=e.bottom;case"touch":return e.right>=t.left&&e.left<=t.right&&e.bottom>=t.top&&e.top<=t.bottom}}function J(e,t=document){const n=Array.isArray(e)?e:[e];let i=[];for(let o=0,s=n.length;o<s;o++){const r=n[o];typeof r=="string"?i=i.concat(Array.from(t.querySelectorAll(r))):r instanceof Element&&i.push(r)}return i}const bn=()=>matchMedia("(hover: none), (pointer: coarse)").matches,vn=()=>"safari"in window,yn=e=>{let t,n=-1,i=!1;return{next(...o){t=o,i||(i=!0,n=requestAnimationFrame(()=>{e(...t),i=!1}))},cancel(){cancelAnimationFrame(n),i=!1}}};function kn(e,t){for(const n of t){if(typeof n=="number")return e.button===n;if(typeof n=="object"){const i=n.button===e.button,o=n.modifiers.every(s=>{switch(s){case"alt":return e.altKey;case"ctrl":return e.ctrlKey||e.metaKey;case"shift":return e.shiftKey}});return i&&o}}return!1}const{abs:V,max:Ue,min:We,ceil:Xe}=Math;class mt extends xn{constructor(t){var n,i,o,s,r;super(),E(this,"_options"),E(this,"_selection",{stored:[],selected:[],touched:[],changed:{added:[],removed:[]}}),E(this,"_area"),E(this,"_clippingElement"),E(this,"_targetElement"),E(this,"_targetRect"),E(this,"_selectables",[]),E(this,"_latestElement"),E(this,"_areaRect",new DOMRect),E(this,"_areaLocation",{y1:0,x2:0,y2:0,x1:0}),E(this,"_singleClick",!0),E(this,"_frame"),E(this,"_scrollAvailable",!0),E(this,"_scrollingActive",!1),E(this,"_scrollSpeed",{x:0,y:0}),E(this,"_scrollDelta",{x:0,y:0}),E(this,"disable",this._bindStartEvents.bind(this,!1)),E(this,"enable",this._bindStartEvents),this._options={selectionAreaClass:"selection-area",selectionContainerClass:void 0,selectables:[],document:window.document,startAreas:["html"],boundaries:["html"],container:"body",...t,behaviour:{overlap:"invert",intersect:"touch",triggers:[0],...t.behaviour,startThreshold:(n=t.behaviour)!=null&&n.startThreshold?typeof t.behaviour.startThreshold=="number"?t.behaviour.startThreshold:{x:10,y:10,...t.behaviour.startThreshold}:{x:10,y:10},scrolling:{speedDivider:10,manualSpeed:750,...(i=t.behaviour)==null?void 0:i.scrolling,startScrollMargins:{x:0,y:0,...(s=(o=t.behaviour)==null?void 0:o.scrolling)==null?void 0:s.startScrollMargins}}},features:{range:!0,touch:!0,...t.features,singleTap:{allow:!0,intersect:"native",...(r=t.features)==null?void 0:r.singleTap}}};for(const u of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))typeof this[u]=="function"&&(this[u]=this[u].bind(this));const{document:a,selectionAreaClass:c,selectionContainerClass:d}=this._options;this._area=a.createElement("div"),this._clippingElement=a.createElement("div"),this._clippingElement.appendChild(this._area),this._area.classList.add(c),d&&this._clippingElement.classList.add(d),Y(this._area,{willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"fixed"}),Y(this._clippingElement,{overflow:"hidden",position:"fixed",transform:"translate3d(0, 0, 0)",pointerEvents:"none",zIndex:"1"}),this._frame=yn(u=>{this._recalculateSelectionAreaRect(),this._updateElementSelection(),this._emitEvent("move",u),this._redrawSelectionArea()}),this.enable()}_bindStartEvents(t=!0){const{document:n,features:i}=this._options,o=t?Z:K;o(n,"mousedown",this._onTapStart),i.touch&&o(n,"touchstart",this._onTapStart,{passive:!1})}_onTapStart(t,n=!1){const{x:i,y:o,target:s}=ue(t),{_options:r}=this,{document:a}=this._options,c=s.getBoundingClientRect();if(t instanceof MouseEvent&&!kn(t,r.behaviour.triggers))return;const d=J(r.startAreas,r.document),u=J(r.boundaries,r.document);this._targetElement=u.find(g=>Ke(g.getBoundingClientRect(),c));const m=t.composedPath();if(!this._targetElement||!d.find(g=>m.includes(g))||!u.find(g=>m.includes(g))||!n&&this._emitEvent("beforestart",t)===!1)return;this._areaLocation={x1:i,y1:o,x2:0,y2:0};const l=a.scrollingElement??a.body;this._scrollDelta={x:l.scrollLeft,y:l.scrollTop},this._singleClick=!0,this.clearSelection(!1,!0),Z(a,["touchmove","mousemove"],this._delayedTapMove,{passive:!1}),Z(a,["mouseup","touchcancel","touchend"],this._onTapStop),Z(a,"scroll",this._onScroll)}_onSingleTap(t){const{singleTap:{intersect:n},range:i}=this._options.features,o=ue(t);let s;if(n==="native")s=o.target;else if(n==="touch"){this.resolveSelectables();const{x:a,y:c}=o;s=this._selectables.find(d=>{const{right:u,left:m,top:l,bottom:g}=d.getBoundingClientRect();return a<u&&a>m&&c<g&&c>l})}if(!s)return;for(this.resolveSelectables();!this._selectables.includes(s);){if(!s.parentElement)return;s=s.parentElement}const{stored:r}=this._selection;if(this._emitEvent("start",t),t.shiftKey&&i&&this._latestElement){const a=this._latestElement,[c,d]=a.compareDocumentPosition(s)&4?[s,a]:[a,s],u=[...this._selectables.filter(m=>m.compareDocumentPosition(c)&4&&m.compareDocumentPosition(d)&2),c,d];this.select(u),this._latestElement=a}else r.includes(s)&&(r.length===1||t.ctrlKey||r.every(a=>this._selection.stored.includes(a)))?this.deselect(s):(this.select(s),this._latestElement=s)}_delayedTapMove(t){const{container:n,document:i,behaviour:{startThreshold:o}}=this._options,{x1:s,y1:r}=this._areaLocation,{x:a,y:c}=ue(t);if(typeof o=="number"&&V(a+c-(s+r))>=o||typeof o=="object"&&V(a-s)>=o.x||V(c-r)>=o.y){if(K(i,["mousemove","touchmove"],this._delayedTapMove,{passive:!1}),this._emitEvent("beforedrag",t)===!1){K(i,["mouseup","touchcancel","touchend"],this._onTapStop);return}Z(i,["mousemove","touchmove"],this._onTapMove,{passive:!1}),Y(this._area,"display","block"),J(n,i)[0].appendChild(this._clippingElement),this.resolveSelectables(),this._singleClick=!1,this._targetRect=this._targetElement.getBoundingClientRect(),this._scrollAvailable=this._targetElement.scrollHeight!==this._targetElement.clientHeight||this._targetElement.scrollWidth!==this._targetElement.clientWidth,this._scrollAvailable&&(Z(this._targetElement,"wheel",this._manualScroll,{passive:!1}),this._selectables=this._selectables.filter(d=>this._targetElement.contains(d))),this._setupSelectionArea(),this._emitEvent("start",t),this._onTapMove(t)}this._handleMoveEvent(t)}_setupSelectionArea(){const{_clippingElement:t,_targetElement:n,_area:i}=this,o=this._targetRect=n.getBoundingClientRect();this._scrollAvailable?(Y(t,{top:o.top,left:o.left,width:o.width,height:o.height}),Y(i,{marginTop:-o.top,marginLeft:-o.left})):(Y(t,{top:0,left:0,width:"100%",height:"100%"}),Y(i,{marginTop:0,marginLeft:0}))}_onTapMove(t){const{x:n,y:i}=ue(t),{_scrollSpeed:o,_areaLocation:s,_options:r,_frame:a}=this,{speedDivider:c}=r.behaviour.scrolling,d=this._targetElement;if(s.x2=n,s.y2=i,this._scrollAvailable&&!this._scrollingActive&&(o.y||o.x)){this._scrollingActive=!0;const u=()=>{if(!o.x&&!o.y){this._scrollingActive=!1;return}const{scrollTop:m,scrollLeft:l}=d;o.y&&(d.scrollTop+=Xe(o.y/c),s.y1-=d.scrollTop-m),o.x&&(d.scrollLeft+=Xe(o.x/c),s.x1-=d.scrollLeft-l),a.next(t),requestAnimationFrame(u)};requestAnimationFrame(u)}else a.next(t);this._handleMoveEvent(t)}_handleMoveEvent(t){const{features:n}=this._options;(n.touch&&bn()||this._scrollAvailable&&vn())&&t.preventDefault()}_onScroll(){const{_scrollDelta:t,_options:{document:n}}=this,{scrollTop:i,scrollLeft:o}=n.scrollingElement??n.body;this._areaLocation.x1+=t.x-o,this._areaLocation.y1+=t.y-i,t.x=o,t.y=i,this._setupSelectionArea(),this._frame.next(null)}_manualScroll(t){const{manualSpeed:n}=this._options.behaviour.scrolling,i=t.deltaY?t.deltaY>0?1:-1:0,o=t.deltaX?t.deltaX>0?1:-1:0;this._scrollSpeed.y+=i*n,this._scrollSpeed.x+=o*n,this._onTapMove(t),t.preventDefault()}_recalculateSelectionAreaRect(){const{_scrollSpeed:t,_areaLocation:n,_areaRect:i,_targetElement:o,_options:s}=this,{scrollTop:r,scrollHeight:a,clientHeight:c,scrollLeft:d,scrollWidth:u,clientWidth:m}=o,l=this._targetRect,{x1:g,y1:p}=n;let{x2:f,y2:z}=n;const{behaviour:{scrolling:{startScrollMargins:w}}}=s;f<l.left+w.x?(t.x=d?-V(l.left-f+w.x):0,f=f<l.left?l.left:f):f>l.right-w.x?(t.x=u-d-m?V(l.left+l.width-f-w.x):0,f=f>l.right?l.right:f):t.x=0,z<l.top+w.y?(t.y=r?-V(l.top-z+w.y):0,z=z<l.top?l.top:z):z>l.bottom-w.y?(t.y=a-r-c?V(l.top+l.height-z-w.y):0,z=z>l.bottom?l.bottom:z):t.y=0;const x=We(g,f),v=We(p,z),k=Ue(g,f),y=Ue(p,z);i.x=x,i.y=v,i.width=k-x,i.height=y-v}_redrawSelectionArea(){const{x:t,y:n,width:i,height:o}=this._areaRect,{style:s}=this._area;s.left=`${t}px`,s.top=`${n}px`,s.width=`${i}px`,s.height=`${o}px`}_onTapStop(t,n){var i;const{document:o,features:s}=this._options,{_singleClick:r}=this;K(o,["mousemove","touchmove"],this._delayedTapMove),K(o,["touchmove","mousemove"],this._onTapMove),K(o,["mouseup","touchcancel","touchend"],this._onTapStop),K(o,"scroll",this._onScroll),this._keepSelection(),t&&r&&s.singleTap.allow?this._onSingleTap(t):!r&&!n&&(this._updateElementSelection(),this._emitEvent("stop",t)),this._scrollSpeed.x=0,this._scrollSpeed.y=0,K(this._targetElement,"wheel",this._manualScroll,{passive:!0}),this._clippingElement.remove(),(i=this._frame)==null||i.cancel(),Y(this._area,"display","none")}_updateElementSelection(){const{_selectables:t,_options:n,_selection:i,_areaRect:o}=this,{stored:s,selected:r,touched:a}=i,{intersect:c,overlap:d}=n.behaviour,u=d==="invert",m=[],l=[],g=[];for(let f=0;f<t.length;f++){const z=t[f];if(Ke(o,z.getBoundingClientRect(),c)){if(r.includes(z))s.includes(z)&&!a.includes(z)&&a.push(z);else if(u&&s.includes(z)){g.push(z);continue}else l.push(z);m.push(z)}}u&&l.push(...s.filter(f=>!r.includes(f)));const p=d==="keep";for(let f=0;f<r.length;f++){const z=r[f];!m.includes(z)&&!(p&&s.includes(z))&&g.push(z)}i.selected=m,i.changed={added:l,removed:g},this._latestElement=void 0}_emitEvent(t,n){return this.emit(t,{event:n,store:this._selection,selection:this})}_keepSelection(){const{_options:t,_selection:n}=this,{selected:i,changed:o,touched:s,stored:r}=n,a=i.filter(c=>!r.includes(c));switch(t.behaviour.overlap){case"drop":{n.stored=[...a,...r.filter(c=>!s.includes(c))];break}case"invert":{n.stored=[...a,...r.filter(c=>!o.removed.includes(c))];break}case"keep":{n.stored=[...r,...i.filter(c=>!r.includes(c))];break}}}trigger(t,n=!0){this._onTapStart(t,n)}resolveSelectables(){this._selectables=J(this._options.selectables,this._options.document)}clearSelection(t=!0,n=!1){const{selected:i,stored:o,changed:s}=this._selection;s.added=[],s.removed.push(...i,...t?o:[]),n||(this._emitEvent("move",null),this._emitEvent("stop",null)),this._selection={stored:t?[]:o,selected:[],touched:[],changed:{added:[],removed:[]}}}getSelection(){return this._selection.stored}getSelectionArea(){return this._area}cancel(t=!1){this._onTapStop(null,!t)}destroy(){this.cancel(),this.disable(),this._clippingElement.remove(),super.unbindAllListeners()}select(t,n=!1){const{changed:i,selected:o,stored:s}=this._selection,r=J(t,this._options.document).filter(a=>!o.includes(a)&&!s.includes(a));return s.push(...r),o.push(...r),i.added.push(...r),i.removed=[],this._latestElement=void 0,n||(this._emitEvent("move",null),this._emitEvent("stop",null)),r}deselect(t,n=!1){const{selected:i,stored:o,changed:s}=this._selection,r=J(t,this._options.document).filter(a=>i.includes(a)||o.includes(a));r.length&&(this._selection.stored=o.filter(a=>!r.includes(a)),this._selection.selected=i.filter(a=>!r.includes(a)),this._selection.changed.added=[],this._selection.changed.removed.push(...r.filter(a=>!s.removed.includes(a))),this._latestElement=void 0,n||(this._emitEvent("move",null),this._emitEvent("stop",null)))}}E(mt,"version","3.5.1");function wn(e){const t=new mt({selectables:[".map-container me-tpc"],boundaries:[e.container],container:"body",behaviour:{scrolling:{speedDivider:10,manualSpeed:750,startScrollMargins:{x:10,y:10}}}}).on("beforestart",({event:n})=>{if(n.button!==e.mouseSelectionButton||n.target.tagName==="ME-TPC"||n.target.id==="input-box"||n.target.className==="circle")return!1;const i=t.getSelectionArea();return i.style.background="#4f90f22d",i.style.border="1px solid #4f90f2",i.parentElement&&(i.parentElement.style.zIndex="9999"),!0}).on("start",({event:n})=>{!n.ctrlKey&&!n.metaKey&&(e.clearSelection(),t.clearSelection(!0,!0))}).on("move",({store:{changed:{added:n,removed:i}}})=>{F.moved=!0;for(const o of n)o.classList.add("selected");for(const o of i)o.classList.remove("selected")}).on("stop",({store:{stored:n}})=>{e.selectNodes(n)});e.selection=t}const Nn=function(e,t=!0){this.theme=e;const n=this.theme.cssVar,i=Object.keys(n);for(let o=0;o<i.length;o++){const s=i[o];this.mindElixirBox.style.setProperty(s,n[s])}t&&this.refresh()},ie=e=>{var t;const n=(t=e.parent)==null?void 0:t.children,i=n.indexOf(e);return{siblings:n,index:i}};function Mn(e){const{siblings:t,index:n}=ie(e),i=t[n];n===0?(t[n]=t[t.length-1],t[t.length-1]=i):(t[n]=t[n-1],t[n-1]=i)}function Cn(e){const{siblings:t,index:n}=ie(e),i=t[n];n===t.length-1?(t[n]=t[0],t[0]=i):(t[n]=t[n+1],t[n+1]=i)}function je(e){const{siblings:t,index:n}=ie(e);return t.splice(n,1),t.length}function En(e,t,n){const{siblings:i,index:o}=ie(n);t==="before"?i.splice(o,0,e):i.splice(o+1,0,e)}function Sn(e,t){const{siblings:n,index:i}=ie(e);n[i]=t,t.children=[e]}function ht(e,t,n){if(je(t),e==="in")n.children?n.children.push(t):n.children=[t];else{t.direction!==void 0&&(t.direction=n.direction);const{siblings:i,index:o}=ie(n);e==="before"?i.splice(o,0,t):i.splice(o+1,0,t)}}const _n=function(e,t){var n,i;if(e===O)return O;if(e===G)return G;if(e===xe){const o=((n=document.querySelector(".lhs"))==null?void 0:n.childElementCount)||0,s=((i=document.querySelector(".rhs"))==null?void 0:i.childElementCount)||0;return o<=s?(t.direction=O,O):(t.direction=G,G)}},pt=function(e,t,n){var i,o;const s=n.children[0].children[0],r=t.parentElement;if(r.tagName==="ME-PARENT"){if(ce(s),r.children[1])r.nextSibling.appendChild(n);else{const a=e.createChildren([n]);r.appendChild(Le(!0)),r.insertAdjacentElement("afterend",a)}e.linkDiv(n.offsetParent)}else r.tagName==="ME-ROOT"&&(_n(e.direction,s.nodeObj)===O?(i=e.container.querySelector(".lhs"))==null||i.appendChild(n):(o=e.container.querySelector(".rhs"))==null||o.appendChild(n),e.linkDiv())},ft=function(e,t){const n=e.parentNode;if(t===0){const i=n.parentNode.parentNode;i.tagName!=="ME-MAIN"&&i.previousSibling.children[1].remove()}n.parentNode.remove()},gt={before:"beforebegin",after:"afterend"},ce=function(e){const t=e.parentElement.parentElement.lastElementChild;(t==null?void 0:t.tagName)==="svg"&&(t==null||t.remove())},An=function(e,t){const n=e.nodeObj,i=Ae(n);i.style&&t.style&&(t.style=Object.assign(i.style,t.style));const o=Object.assign(n,t);Te(e,o),this.linkDiv(),this.bus.fire("operation",{name:"reshapeNode",obj:o,origin:i})},le=function(e,t,n){if(!t)return null;const i=t.nodeObj;i.expanded===!1&&(e.expandNode(t,!0),t=_(i.id));const o=n||e.generateNewObj();i.children?i.children.push(o):i.children=[o],W(e.nodeData);const{grp:s,top:r}=e.createWrapper(o);return pt(e,t,s),{newTop:r,newNodeObj:o}},Tn=function(e,t,n){var i,o,s;const r=t||this.currentNode;if(!r)return;const a=r.nodeObj;if(a.root===!0){this.addChild();return}else if(((i=a.parent)==null?void 0:i.root)===!0&&((s=(o=a.parent)==null?void 0:o.children)==null?void 0:s.length)===1){this.addChild(_(a.parent.id),n);return}const c=n||this.generateNewObj();En(c,e,a),W(this.nodeData);const d=r.parentElement,{grp:u,top:m}=this.createWrapper(c);d.parentElement.insertAdjacentElement(gt[e],u),this.linkDiv(u.offsetParent),n||this.editTopic(m.firstChild),this.selectNode(m.firstChild,!0),this.bus.fire("operation",{name:"insertSibling",type:e,obj:c})},Ln=function(e,t){const n=e||this.currentNode;if(!n)return;ce(n);const i=n.nodeObj;if(i.root===!0)return;const o=t||this.generateNewObj();Sn(i,o),W(this.nodeData);const s=n.parentElement.parentElement,{grp:r,top:a}=this.createWrapper(o,!0);a.appendChild(Le(!0)),s.insertAdjacentElement("afterend",r);const c=this.createChildren([s]);a.insertAdjacentElement("afterend",c),this.linkDiv(),t||this.editTopic(a.firstChild),this.selectNode(a.firstChild,!0),this.bus.fire("operation",{name:"insertParent",obj:o})},jn=async function(e,t,n){var i;const o=e||this.currentNode;if(!o)return;const s=document.createElement("div");if(s.innerHTML="Loading...",s.style.position="fixed",s.style.top="50%",s.style.left="50%",s.style.transform="translate(-50%, -50%)",s.style.backgroundColor="#fff",s.style.padding="10px",s.style.borderRadius="5px",s.style.boxShadow="0px 0px 10px rgba(0, 0, 0, 0.1)",document.body.appendChild(s),(i=this.apiInterface)!=null&&i.answerAPI)try{let r={"Content-Type":"application/json"};this.apiInterface.headerToken&&(r.Authorization=`Bearer ${this.apiInterface.headerToken}`);const a=await fetch(this.apiInterface.answerAPI,{method:"POST",headers:r,body:JSON.stringify({node_id:o.nodeObj.id,nodes:this.getData(),language:this.locale,singleNode:this.apiInterface.singleNode,isRetry:n})});if(!a.ok)if(a.status===401)alert("Unauthorized access! Please check your login status or token.");else throw new Error(`HTTP error! status: ${a.status}`);const c=await a.json();if(c.code===0){const d=c.data;if(d.length===0)alert(`No data returned from the API, ${c.msg}`);else if(d.length===1){t=d[0],t.aiAnswer=!0;const u=le(this,o,t);if(!u)return;const{newTop:m,newNodeObj:l}=u;this.bus.fire("operation",{name:"answerChild",obj:l}),t||this.editTopic(m.firstChild),this.selectNode(m.firstChild,!0)}else d.forEach(u=>{u.aiAnswer=!0;const m=le(this,o,u);if(!m)return;const{newTop:l,newNodeObj:g}=m;this.bus.fire("operation",{name:"answerChild",obj:g}),t||this.editTopic(l.firstChild)})}else alert(`Failed to fetch data from the API, ${c.msg}`)}catch{alert(`Failed to fetch data from the API, ${this.apiInterface.answerAPI}`)}else alert("options里面的apiInterface中的answerAPI is not defined");document.body.removeChild(s)},Ve=e=>{const{protocol:t,hostname:n,port:i}=new URL(e);return`${t}//${n}${i?`:${i}`:""}/`},Dn=async function(e,t){var n;const i=e||this.currentNode;if(!i)return;if(!((n=this.apiInterface)!=null&&n.uploadAPI)){alert("The uploadAPI is not defined in the apiInterface");return}const o=document.createElement("input");o.type="file",o.onchange=async()=>{var s;const r=(s=o.files)==null?void 0:s[0];if(!r){alert("No file selected");return}const a=new FormData;a.append("file",r);let c={};this.apiInterface.headerToken&&(c={Authorization:`Bearer ${this.apiInterface.headerToken}`});const d=this.apiInterface.uploadAPI;try{const u=await fetch(d,{method:"POST",headers:c,body:a});if(!u.ok)if(u.status===401)alert("Unauthorized access! Please check your login status or token.");else throw new Error(`HTTP error! status: ${u.status}`);const m=await u.json();if(m.code===0){let l=t||i.nodeObj;if(m.data.is_image){const p=m.data.filePath,f=`${Ve(d)}${p}`;let z=t||i.nodeObj;z.image={url:f,name:m.data.filename,height:90,width:90}}else{const p=m.data.filePath,f=m.data.filename,z=`${Ve(d)}${p}`;l.file={url:z,name:f}}const g=this.reshapeNode(i,l);this.bus.fire("operation",{name:"upload",obj:l})}else alert(`Failed to fetch data from the API, ${m.msg}`)}catch{alert(`Failed to fetch data from the API, ${this.apiInterface.uploadAPI}`)}},o.click()},In=async function(e){var t;if(!((t=this.apiInterface)!=null&&t.uploadAPI)){alert("The uploadAPI is not defined in the apiInterface");return}try{const n=this.apiInterface.uploadAPI,i=JSON.stringify({filename:e}),o=await fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json"},body:i});if(!o.ok)if(o.status===401)alert("Unauthorized access! Please check your login status or token.");else throw new Error(`HTTP error! status: ${o.status}`);const s=await o.json();s.code===0||alert(`Failed to delete file from the API, ${s.msg}`)}catch{alert(`Failed to delete file from the API, ${this.apiInterface.uploadAPI}`)}},$n=function(e,t){const n=e||this.currentNode;if(!n)return;const i=le(this,n,t);if(!i)return;const{newTop:o,newNodeObj:s}=i;this.bus.fire("operation",{name:"addChild",obj:s}),t||this.editTopic(o.firstChild),this.selectNode(o.firstChild,!0)},Fn=function(e,t){const n=Ae(e.nodeObj);_e(n);const i=le(this,t,n);if(!i)return;const{newNodeObj:o}=i;this.selectNode(_(o.id)),this.bus.fire("operation",{name:"copyNode",obj:o})},On=function(e,t){e=be(e);const n=[];for(let i=0;i<e.length;i++){const o=e[i],s=Ae(o.nodeObj);_e(s);const r=le(this,t,s);if(!r)return;const{newNodeObj:a}=r;n.push(a)}this.selectNodes(n.map(i=>_(i.id))),this.bus.fire("operation",{name:"copyNodes",objs:n})},Pn=function(e){const t=e||this.currentNode;if(!t)return;const n=t.nodeObj;Mn(n);const i=t.parentNode.parentNode;i.parentNode.insertBefore(i,i.previousSibling),this.linkDiv(),this.bus.fire("operation",{name:"moveUpNode",obj:n})},Bn=function(e){const t=e||this.currentNode;if(!t)return;const n=t.nodeObj;Cn(n);const i=t.parentNode.parentNode;i.nextSibling?i.nextSibling.insertAdjacentElement("afterend",i):i.parentNode.prepend(i),this.linkDiv(),this.bus.fire("operation",{name:"moveDownNode",obj:n})},Hn=function(e){var t;const n=e||this.currentNode;if(!n)return;const i=n.nodeObj;if(i.root===!0)throw new Error("Can not remove root node");const o=i.parent.children,s=o.findIndex(a=>a===i),r=je(i);if(ft(n,r),o.length!==0){const a=o[s]||o[s-1];this.selectNode(_(a.id))}else this.selectNode(_(i.parent.id));this.linkDiv(),this.bus.fire("operation",{name:"removeNode",obj:i,originIndex:s,originParentId:(t=i==null?void 0:i.parent)==null?void 0:t.id})},qn=function(e){e=be(e);for(const t of e){const n=t.nodeObj;if(n.root===!0)continue;const i=je(n);ft(t,i)}this.linkDiv(),this.bus.fire("operation",{name:"removeNodes",objs:e.map(t=>t.nodeObj)})},Rn=function(e,t){e=be(e);const n=t.nodeObj;n.expanded===!1&&(this.expandNode(t,!0),t=_(n.id));for(const i of e){const o=i.nodeObj;ht("in",o,n),W(this.nodeData);const s=i.parentElement;pt(this,t,s.parentElement)}this.linkDiv(),this.bus.fire("operation",{name:"moveNodeIn",objs:e.map(i=>i.nodeObj),toObj:n})},zt=(e,t,n,i)=>{e=be(e),t==="after"&&(e=e.reverse());const o=n.nodeObj;for(const s of e){const r=s.nodeObj;ht(t,r,o),W(i.nodeData),ce(s);const a=s.parentElement.parentNode;n.parentElement.parentNode.insertAdjacentElement(gt[t],a)}i.linkDiv(),i.bus.fire("operation",{name:t==="before"?"moveNodeBefore":"moveNodeAfter",objs:e.map(s=>s.nodeObj),toObj:o})},Yn=function(e,t){zt(e,"before",t,this)},Kn=function(e,t){zt(e,"after",t,this)},Un=function(e){const t=e||this.currentNode;t&&(t.nodeObj.dangerouslySetInnerHTML||(this.currentNode=t,this.editTopic(t)))},Wn=function(e,t){e.text.textContent=t,e.nodeObj.topic=t,this.linkDiv()},xt=Object.freeze(Object.defineProperty({__proto__:null,addChild:$n,answerChild:jn,beginEdit:Un,copyNode:Fn,copyNodes:On,deleteFile:In,insertParent:Ln,insertSibling:Tn,moveDownNode:Bn,moveNodeAfter:Kn,moveNodeBefore:Yn,moveNodeIn:Rn,moveUpNode:Pn,removeNode:Hn,removeNodes:qn,reshapeNode:An,rmSubline:ce,setNodeTopic:Wn,upload:Dn},Symbol.toStringTag,{value:"Module"}));function bt(e){return{nodeData:e.isFocusMode?e.nodeDataBackup:e.nodeData,arrows:e.arrows,summaries:e.summaries,direction:e.direction,theme:e.theme}}const Xn=function(e,t,n){if(e){if(this.clearSelection(),typeof e=="string"){const i=_(e);return i?this.selectNode(i):void 0}if(e.className="selected",e.scrollIntoView({block:"nearest",inline:"nearest"}),this.currentNode=e,e.nodeObj.aiAnswer){let i=e.querySelector(".ai-icon");if(i)i.remove();else{i=document.createElement("div"),i.className="ai-icon",e.appendChild(i);const o=document.createElement("span");o.className="icon-retry",o.innerText="🔄",i.appendChild(o),o.addEventListener("click",()=>{const r=e.parentElement.parentElement.parentElement.previousSibling;if(r){const a=r.firstChild;a&&(this.removeNode(e),this.answerChild(a,void 0,!0))}});const s=document.createElement("span");s.className="icon-like",s.innerText="👍",i.appendChild(s),s.addEventListener("click",()=>{})}}t?this.bus.fire("selectNewNode",e.nodeObj):this.bus.fire("selectNode",e.nodeObj,n)}},Vn=function(){this.currentNode&&(this.currentNode.className=""),this.currentNode=null,this.bus.fire("unselectNode")},Gn=function(e){this.clearSelection();for(const t of e)t.className="selected";this.currentNodes=e,this.bus.fire("selectNodes",e.map(t=>t.nodeObj))},Zn=function(){if(this.currentNodes)for(const e of this.currentNodes)e.classList.remove("selected");this.currentNodes=null,this.bus.fire("unselectNodes")},Jn=function(){this.unselectNode(),this.unselectNodes(),this.unselectSummary(),this.unselectArrow()},Qn=function(){const e=bt(this);return JSON.stringify(e,(t,n)=>{if(!(t==="parent"&&typeof n!="string"))return n})},ei=function(){return JSON.parse(this.getDataString())},ti=function(){const e=bt(this).nodeData;let t="# "+e.topic+`

`;function n(i,o){for(let s=0;s<i.length;s++)o<=6?t+="".padStart(o,"#")+" "+i[s].topic+`

`:t+="".padStart(o-7,"	")+"- "+i[s].topic+`
`,i[s].children&&n(i[s].children||[],o+1)}return n(e.children||[],2),t},ni=function(){this.editable=!0},ii=function(){this.editable=!1},oi=function(e){this.scaleVal=e,this.map.style.transform="scale("+e+")"},si=function(){this.container.scrollTo(1e4-this.container.offsetWidth/2,1e4-this.container.offsetHeight/2)},ri=function(e){e(this)},ai=function(e){e.nodeObj.root||(this.tempDirection===null&&(this.tempDirection=this.direction),this.isFocusMode||(this.nodeDataBackup=this.nodeData,this.isFocusMode=!0),this.nodeData=e.nodeObj,this.nodeData.root=!0,this.initRight(),this.toCenter())},li=function(){this.isFocusMode=!1,this.tempDirection!==null&&(delete this.nodeData.root,this.nodeData=this.nodeDataBackup,this.direction=this.tempDirection,this.tempDirection=null,this.refresh(),this.toCenter())},ci=function(){this.direction=0,this.refresh()},di=function(){this.direction=1,this.refresh()},ui=function(){this.direction=2,this.refresh()},mi=function(e){this.locale=e,this.refresh()},hi=function(e,t){const n=e.nodeObj;typeof t=="boolean"?n.expanded=t:n.expanded!==!1?n.expanded=!1:n.expanded=!0;const i=e.parentNode,o=i.children[1];if(o.expanded=n.expanded,o.className=n.expanded?"minus":"",ce(e),n.expanded){const s=this.createChildren(n.children.map(r=>this.createWrapper(r).grp));i.parentNode.appendChild(s)}else i.parentNode.children[1].remove();this.linkDiv(),this.bus.fire("expandNode",n)},pi=function(e){e&&(e=JSON.parse(JSON.stringify(e)),this.nodeData=e.nodeData,this.arrows=e.arrows||[],this.summaries=e.summaries||[]),W(this.nodeData),this.layout(),this.linkDiv()},fi=Object.freeze(Object.defineProperty({__proto__:null,cancelFocus:li,clearSelection:Jn,disableEdit:ii,enableEdit:ni,expandNode:hi,focusNode:ai,getData:ei,getDataMd:ti,getDataString:Qn,initLeft:ci,initRight:di,initSide:ui,install:ri,refresh:pi,scale:oi,selectNode:Xn,selectNodes:Gn,setLocale:mi,toCenter:si,unselectNode:Vn,unselectNodes:Zn},Symbol.toStringTag,{value:"Module"})),gi=function(e){return{dom:e,moved:!1,mousedown:!1,handleMouseMove(t){this.mousedown&&(this.moved=!0,this.cb&&this.cb(t.movementX,t.movementY))},handleMouseDown(t){t.button===0&&(this.mousedown=!0)},handleClear(t){this.mousedown=!1},cb:null,init(t,n){this.cb=n,this.handleClear=this.handleClear.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),t.addEventListener("mousemove",this.handleMouseMove),t.addEventListener("mouseleave",this.handleClear),t.addEventListener("mouseup",this.handleClear),this.dom.addEventListener("mousedown",this.handleMouseDown)},destory(t){t.removeEventListener("mousemove",this.handleMouseMove),t.removeEventListener("mouseleave",this.handleClear),t.removeEventListener("mouseup",this.handleClear),this.dom.removeEventListener("mousedown",this.handleMouseDown)},clear(){this.moved=!1,this.mousedown=!1}}},Ge={create:gi};function ze(e,t,n){const{offsetLeft:i,offsetTop:o}=X(e.nodes,t),s=t.offsetWidth,r=t.offsetHeight,a=i+s/2,c=o+r/2,d=a+n.x,u=c+n.y;return{w:s,h:r,cx:a,cy:c,ctrlX:d,ctrlY:u}}function Q(e){let t,n;const i=(e.cy-e.ctrlY)/(e.ctrlX-e.cx);return i>e.h/e.w||i<-e.h/e.w?e.cy-e.ctrlY<0?(t=e.cx-e.h/2/i,n=e.cy+e.h/2):(t=e.cx+e.h/2/i,n=e.cy-e.h/2):e.cx-e.ctrlX<0?(t=e.cx+e.w/2,n=e.cy-e.w*i/2):(t=e.cx-e.w/2,n=e.cy+e.w*i/2),{x:t,y:n}}const zi=function(e,t,n,i){const o=document.createElementNS("http://www.w3.org/2000/svg","text");return S(o,{"text-anchor":"middle",x:t+"",y:n+"",fill:i||"#666"}),o.dataset.type="custom-link",o.innerHTML=e,o},vt=function(e,t,n,i,o){if(!t||!n)return;performance.now();const s=ze(e,t,i.delta1),r=ze(e,n,i.delta2),{x:a,y:c}=Q(s),{ctrlX:d,ctrlY:u}=s,{ctrlX:m,ctrlY:l}=r,{x:g,y:p}=Q(r),f=st(m,l,g,p),z=Zt(`M ${a} ${c} C ${d} ${u} ${m} ${l} ${g} ${p}`,`M ${f.x1} ${f.y1} L ${g} ${p} L ${f.x2} ${f.y2}`),w=a/8+d*3/8+m*3/8+g/8,x=c/8+u*3/8+l*3/8+p/8,v=zi(i.label,w,x,e.theme.cssVar["--color"]);z.appendChild(v),z.arrowObj=i,z.dataset.linkid=i.id,e.linkSvgGroup.appendChild(z),o||(e.arrows.push(i),e.currentArrow=z,kt(e,i,s,r)),performance.now()},xi=function(e,t){const n={id:ne(),label:"Custom Link",from:e.nodeObj.id,to:t.nodeObj.id,delta1:{x:0,y:-200},delta2:{x:0,y:-200}};vt(this,e,t,n),this.bus.fire("operation",{name:"createArrow",obj:n})},bi=function(e){let t;if(e?t=e:t=this.currentArrow,!t)return;yt(this);const n=t.arrowObj.id;this.arrows=this.arrows.filter(i=>i.id!==n),t.remove(),this.bus.fire("operation",{name:"removeArrow",obj:{id:n}})},vi=function(e){this.currentArrow=e;const t=e.arrowObj,n=_(t.from),i=_(t.to),o=ze(this,n,t.delta1),s=ze(this,i,t.delta2);kt(this,t,o,s)},yi=function(){this.currentArrow=null,yt(this)},yt=function(e){e.linkController.style.display="none",e.P2.style.display="none",e.P3.style.display="none"},kt=function(e,t,n,i){var o;e.linkController.style.display="initial",e.P2.style.display="initial",e.P3.style.display="initial",e.nodes.appendChild(e.linkController),e.nodes.appendChild(e.P2),e.nodes.appendChild(e.P3);let{x:s,y:r}=Q(n),{ctrlX:a,ctrlY:c}=n,{ctrlX:d,ctrlY:u}=i,{x:m,y:l}=Q(i);e.P2.style.cssText=`top:${c}px;left:${a}px;`,e.P3.style.cssText=`top:${u}px;left:${d}px;`,S(e.line1,{x1:s+"",y1:r+"",x2:a+"",y2:c+""}),S(e.line2,{x1:d+"",y1:u+"",x2:m+"",y2:l+""}),e.helper1&&(e.helper1.destory(e.map),(o=e.helper2)==null||o.destory(e.map)),e.helper1=Ge.create(e.P2),e.helper2=Ge.create(e.P3),e.helper1.init(e.map,(g,p)=>{var f;a=a+g/e.scaleVal,c=c+p/e.scaleVal;const z=Q({...n,ctrlX:a,ctrlY:c});s=z.x,r=z.y;const w=s/8+a*3/8+d*3/8+m/8,x=r/8+c*3/8+u*3/8+l/8;e.P2.style.top=c+"px",e.P2.style.left=a+"px",(f=e.currentArrow)==null||f.children[0].setAttribute("d",`M ${s} ${r} C ${a} ${c} ${d} ${u} ${m} ${l}`),S(e.currentArrow.children[2],{x:w+"",y:x+""}),S(e.line1,{x1:s+"",y1:r+"",x2:a+"",y2:c+""}),t.delta1.x=a-n.cx,t.delta1.y=c-n.cy}),e.helper2.init(e.map,(g,p)=>{var f,z;d=d+g/e.scaleVal,u=u+p/e.scaleVal;const w=Q({...i,ctrlX:d,ctrlY:u});m=w.x,l=w.y;const x=s/8+a*3/8+d*3/8+m/8,v=r/8+c*3/8+u*3/8+l/8,k=st(d,u,m,l);e.P3.style.top=u+"px",e.P3.style.left=d+"px",(f=e.currentArrow)==null||f.children[0].setAttribute("d",`M ${s} ${r} C ${a} ${c} ${d} ${u} ${m} ${l}`),(z=e.currentArrow)==null||z.children[1].setAttribute("d",`M ${k.x1} ${k.y1} L ${m} ${l} L ${k.x2} ${k.y2}`),S(e.currentArrow.children[2],{x:x+"",y:v+""}),S(e.line2,{x1:d+"",y1:u+"",x2:m+"",y2:l+""}),t.delta2.x=d-i.cx,t.delta2.y=u-i.cy})};function ki(){this.linkSvgGroup.innerHTML="";for(let e=0;e<this.arrows.length;e++){const t=this.arrows[e];try{vt(this,_(t.from),_(t.to),t,!0)}catch{}}this.nodes.appendChild(this.linkSvgGroup)}function wi(e){if(!e)return;const t=e.children[2];lt(this,t,n=>{var i;const o=e.arrowObj,s=((i=n.textContent)==null?void 0:i.trim())||"";s===""?o.label=origin:o.label=s,n.remove(),s!==origin&&(t.innerHTML=o.label,this.linkDiv(),this.bus.fire("operation",{name:"finishEditArrowLabel",obj:o}))})}function Ni(){this.arrows=this.arrows.filter(e=>fe(e.from,this.nodeData)&&fe(e.to,this.nodeData))}const Mi=Object.freeze(Object.defineProperty({__proto__:null,createArrow:xi,editArrowLabel:wi,removeArrow:bi,renderArrow:ki,selectArrow:vi,tidyArrow:Ni,unselectArrow:yi},Symbol.toStringTag,{value:"Module"})),Ci=function(e){var t,n;if(e.length===0)throw new Error("No selected node.");if(e.length===1){const u=e[0].nodeObj,m=e[0].nodeObj.parent;if(!m)throw new Error("Can not select root node.");const l=m.children.findIndex(g=>u===g);return{parent:m.id,start:l,end:l}}let i=0;const o=e.map(u=>{let m=u.nodeObj;const l=[];for(;m.parent;){const g=m.parent,p=g.children,f=p==null?void 0:p.indexOf(m);m=g,l.unshift({node:m,index:f})}return l.length>i&&(i=l.length),l});let s=0;e:for(;s<i;s++){const u=(t=o[0][s])==null?void 0:t.node;for(let m=1;m<o.length;m++)if(((n=o[m][s])==null?void 0:n.node)!==u)break e}if(!s)throw new Error("Can not select root node.");const r=o.map(u=>u[s-1].index).sort(),a=r[0]||0,c=r[r.length-1]||0,d=o[0][s-1].node;if(d.root)throw new Error("Please select nodes in the same main topic.");return{parent:d.id,start:a,end:c}},Ei=function(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.setAttribute("id",e),t},Ze=function(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","path");return S(n,{d:e,stroke:t||"#666",fill:"none","stroke-linecap":"round","stroke-width":"2"}),n},Je=function(e,t,n,i,o){const s=document.createElementNS("http://www.w3.org/2000/svg","text");return S(s,{"text-anchor":i,x:t+"",y:n+"",fill:o||"#666"}),s.innerHTML=e,s},Si=e=>_(e).parentElement.parentElement,_i=function({parent:e,start:t}){var n,i;const o=_(e),s=o.nodeObj;let r;return s.root===!0?r=(n=_(s.children[t].id).closest("me-main"))==null?void 0:n.className:r=(i=o.closest("me-main"))==null?void 0:i.className,r},wt=function(e,t){var n;const{id:i,text:o,parent:s,start:r,end:a}=t,c=e.nodes,d=_(s).nodeObj,u=_i(t);let m=1/0,l=0,g=0,p=0;for(let M=r;M<=a;M++){const T=(n=d.children)==null?void 0:n[M];if(!T)return e.removeSummary(i),null;const A=Si(T.id),{offsetLeft:P,offsetTop:B}=X(c,A);M===r&&(g=B),M===a&&(p=B+A.offsetHeight),P<m&&(m=P),A.offsetWidth+P>l&&(l=A.offsetWidth+P)}let f,z;const w=g+10,x=p+10,v=(w+x)/2,k=e.theme.cssVar["--color"];u==="lhs"?(f=Ze(`M ${m+10} ${w} c -5 0 -10 5 -10 10 L ${m} ${x-10} c 0 5 5 10 10 10 M ${m} ${v} h -10`,k),z=Je(o,m-20,v+6,"end",k)):(f=Ze(`M ${l-10} ${w} c 5 0 10 5 10 10 L ${l} ${x-10} c 0 5 -5 10 -10 10 M ${l} ${v} h 10`,k),z=Je(o,l+20,v+6,"start",k));const y=Ei("s-"+i);return y.appendChild(f),y.appendChild(z),y.summaryObj=t,e.summarySvg.appendChild(y),y},Ai=function(){let e=[];this.currentNode?e=[this.currentNode]:this.currentNodes&&(e=this.currentNodes);const{parent:t,start:n,end:i}=Ci(e),o={id:ne(),parent:t,start:n,end:i,text:"summary"},s=wt(this,o);this.summaries.push(o),this.editSummary(s),this.bus.fire("operation",{name:"createSummary",obj:o})},Ti=function(e){var t;const n=this.summaries.findIndex(i=>i.id===e);n>-1&&(this.summaries.splice(n,1),(t=document.querySelector("#s-"+e))==null||t.remove()),this.bus.fire("operation",{name:"removeSummary",obj:{id:e}})},Li=function(e){const t=e.children[1].getBBox(),n=6,i=3,o=document.createElementNS("http://www.w3.org/2000/svg","rect");S(o,{x:t.x-n+"",y:t.y-n+"",width:t.width+n*2+"",height:t.height+n*2+"",rx:i+"",stroke:this.theme.cssVar["--selected"]||"#4dc4ff","stroke-width":"2",fill:"none"}),o.classList.add("selected"),e.appendChild(o),this.currentSummary=e},ji=function(){var e,t;(t=(e=this.currentSummary)==null?void 0:e.querySelector("rect"))==null||t.remove(),this.currentSummary=null},Di=function(){this.summarySvg.innerHTML="",this.summaries.forEach(e=>{try{wt(this,e)}catch{}}),this.nodes.insertAdjacentElement("beforeend",this.summarySvg)},Ii=function(e){if(!e)return;const t=e.childNodes[1];lt(this,t,n=>{var i;const o=e.summaryObj,s=((i=n.textContent)==null?void 0:i.trim())||"";s===""?o.text=origin:o.text=s,n.remove(),s!==origin&&(t.innerHTML=o.text,this.linkDiv(),this.bus.fire("operation",{name:"finishEditSummary",obj:o}))})},$i=Object.freeze(Object.defineProperty({__proto__:null,createSummary:Ai,editSummary:Ii,removeSummary:Ti,renderSummary:Di,selectSummary:Li,unselectSummary:ji},Symbol.toStringTag,{value:"Module"})),Qe=`code[class*='language-'],
pre[class*='language-'] {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*='language-'] {
  position: relative;
  margin: 0.5em 0;
  overflow: visible;
  padding: 0;
}

pre[class*='language-']>code {
  position: relative; 
}

code[class*='language'] {
  border-radius: 3px;
  background: #faf8f5;
  max-height: inherit;
  height: inherit;
  padding: 1em;
  display: block;
  overflow: auto;
  margin: 0;
}

/* Inline code */
:not(pre)>code[class*='language-'] {
  display: inline;
  position: relative;
  color: #c92c2c; 
  padding: 0.15em;
  white-space: normal;
}

.token.comment,
.token.block-comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: #7d8b99;
}

.token.punctuation {
  color: #5f6364;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.function-name,
.token.constant,
.token.symbol,
.token.deleted {
  color: #c92c2c;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.function,
.token.builtin,
.token.inserted {
  color: #2f9c0a;
}

.token.operator,
.token.entity,
.token.url,
.token.variable {
  color: #a67f59;
  background: rgba(255, 255, 255, 0.5);
}

.token.atrule,
.token.attr-value,
.token.keyword,
.token.class-name {
  color: #1990b8;
}

.token.regex,
.token.important {
  color: #e90;
}

.language-css .token.string,
.style .token.string {
  color: #a67f59;
  background: rgba(255, 255, 255, 0.5);
}

.token.important {
  font-weight: normal;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}

.token.entity {
  cursor: help;
}

.namespace {
  opacity: 0.7;
}

@media screen and (max-width: 767px) {

  pre[class*='language-']:before,
  pre[class*='language-']:after {
    bottom: 14px;
    box-shadow: none;
  }
}

/* Plugin styles */
.token.tab:not(:empty):before,
.token.cr:before,
.token.lf:before {
  color: #e0d7d1;
}

/* Plugin styles: Line Numbers */
pre[class*='language-'].line-numbers.line-numbers {
  padding-left: 0;
}

pre[class*='language-'].line-numbers.line-numbers code {
  padding-left: 3.8em;
}

pre[class*='language-'].line-numbers.line-numbers .line-numbers-rows {
  left: 0;
}

/* Plugin styles: Line Highlight */
pre[class*='language-'][data-line] {
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 0;
}

pre[data-line] code {
  position: relative;
  padding-left: 4em;
}

pre .line-highlight {
  margin-top: 0;
}`,et='.katex{text-rendering:auto;font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.16.9"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathboldfrak,.katex .textboldfrak{font-family:KaTeX_Fraktur;font-weight:700}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}',I="http://www.w3.org/2000/svg";function Fi(e,t){const n=document.createElementNS(I,"svg");return S(n,{version:"1.1",xmlns:I,height:e,width:t}),n}function Oi(e,t){return(parseInt(e)-parseInt(t))/2}function Pi(e,t,n,i){const o=document.createElementNS(I,"g");let s="";return e.text?s=e.text.textContent:s=e.childNodes[0].textContent,s.split(`
`).forEach((r,a)=>{const c=document.createElementNS(I,"text");S(c,{x:n+parseInt(t.paddingLeft)+"",y:i+parseInt(t.paddingTop)+Oi(t.lineHeight,t.fontSize)*(a+1)+parseFloat(t.fontSize)*(a+1)+"","text-anchor":"start","font-family":t.fontFamily,"font-size":`${t.fontSize}`,"font-weight":`${t.fontWeight}`,fill:`${t.color}`}),c.innerHTML=r,o.appendChild(c)}),o}function Bi(e,t,n,i){var o;let s="";(o=e.nodeObj)!=null&&o.dangerouslySetInnerHTML?s=e.nodeObj.dangerouslySetInnerHTML:e.text?s=e.text.textContent:s=e.childNodes[0].textContent;const r=document.createElementNS(I,"foreignObject");S(r,{x:n+parseInt(t.paddingLeft)+"",y:i+parseInt(t.paddingTop)+"",width:t.width,height:t.height});const a=document.createElement("div");return S(a,{xmlns:"http://www.w3.org/1999/xhtml",style:`font-family: ${t.fontFamily}; font-size: ${t.fontSize}; font-weight: ${t.fontWeight}; color: ${t.color}; white-space: pre-wrap;`}),a.innerHTML=s,r.appendChild(a),r}function Hi(e,t){const n=getComputedStyle(t),{offsetLeft:i,offsetTop:o}=X(e.nodes,t),s=document.createElementNS(I,"rect");return S(s,{x:i+"",y:o+"",rx:n.borderRadius,ry:n.borderRadius,width:n.width,height:n.height,fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth}),s}function me(e,t,n=!1){const i=getComputedStyle(t),{offsetLeft:o,offsetTop:s}=X(e.nodes,t),r=document.createElementNS(I,"rect");S(r,{x:o+"",y:s+"",rx:i.borderRadius,ry:i.borderRadius,width:i.width,height:i.height,fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth});const a=document.createElementNS(I,"g");a.appendChild(r);let c;return n?c=Bi(t,i,o,s):c=Pi(t,i,o,s),a.appendChild(c),a}function qi(e,t){const n=getComputedStyle(t),{offsetLeft:i,offsetTop:o}=X(e.nodes,t),s=document.createElementNS(I,"a"),r=document.createElementNS(I,"text");return S(r,{x:i+"",y:o+parseInt(n.fontSize)+"","text-anchor":"start","font-family":n.fontFamily,"font-size":`${n.fontSize}`,"font-weight":`${n.fontWeight}`,fill:`${n.color}`}),r.innerHTML=t.textContent,s.appendChild(r),s.setAttribute("href",t.href),s}function Ri(e,t){const n=getComputedStyle(t),{offsetLeft:i,offsetTop:o}=X(e.nodes,t),s=document.createElementNS(I,"image");return S(s,{x:i+"",y:o+"",width:n.width+"",height:n.height+"",href:t.src}),s}const he=100,Yi='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',Ki=(e,t=!1)=>{var n,i,o;const s=e.nodes,r=s.offsetHeight+he*2,a=s.offsetWidth+he*2,c=Fi(r+"px",a+"px"),d=document.createElementNS(I,"svg"),u=document.createElementNS(I,"rect");S(u,{x:"0",y:"0",width:`${a}`,height:`${r}`,fill:e.theme.cssVar["--bgcolor"]}),c.appendChild(u),s.querySelectorAll(".subLines").forEach(p=>{const f=p.cloneNode(!0),{offsetLeft:z,offsetTop:w}=X(s,p.parentElement);f.setAttribute("x",`${z}`),f.setAttribute("y",`${w}`),d.appendChild(f)});const m=(n=s.querySelector(".lines"))==null?void 0:n.cloneNode(!0);m&&d.appendChild(m);const l=(i=s.querySelector(".topiclinks"))==null?void 0:i.cloneNode(!0);l&&d.appendChild(l);const g=(o=s.querySelector(".summary"))==null?void 0:o.cloneNode(!0);return g&&d.appendChild(g),s.querySelectorAll("me-tpc").forEach(p=>{p.nodeObj.dangerouslySetInnerHTML?d.appendChild(me(e,p,!t)):(d.appendChild(Hi(e,p)),d.appendChild(me(e,p.text,!t)))}),s.querySelectorAll(".tags > span").forEach(p=>{d.appendChild(me(e,p))}),s.querySelectorAll(".icons > span").forEach(p=>{d.appendChild(me(e,p))}),s.querySelectorAll(".hyper-link").forEach(p=>{d.appendChild(qi(e,p))}),s.querySelectorAll("img").forEach(p=>{d.appendChild(Ri(e,p))}),S(d,{x:he+"",y:he+"",overflow:"visible"}),c.appendChild(d),c},Ui=(e,t)=>(t&&e.insertAdjacentHTML("afterbegin","<style>"+t+"</style>"),Yi+e.outerHTML);function Wi(e){return new Promise((t,n)=>{const i=new FileReader;i.onload=o=>{t(o.target.result)},i.onerror=o=>{n(o)},i.readAsDataURL(e)})}const Xi=function(e=!1,t){const n=Ki(this,e),i=Ui(n,t);return new Blob([i],{type:"image/svg+xml"})},Vi=async function(e=!1,t){const n=this.exportSvg(e,t),i=await Wi(n);return new Promise((o,s)=>{const r=new Image;r.setAttribute("crossOrigin","anonymous"),r.onload=()=>{const a=document.createElement("canvas");a.width=r.width,a.height=r.height,a.getContext("2d").drawImage(r,0,0),a.toBlob(o,"image/png",1)},r.src=i,r.onerror=s})},Gi=async function(e){try{let t=null;if(e==="png"?t=await this.exportPng(!1,Qe+et):t=await this.exportSvg(!1,Qe+et),!t)return;const n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="filename."+e,i.click(),URL.revokeObjectURL(n)}catch{}},Zi=Object.freeze(Object.defineProperty({__proto__:null,downloadImage:Gi,exportPng:Vi,exportSvg:Xi},Symbol.toStringTag,{value:"Module"}));function Ji(e,t){return async function(...n){const i=this.before[t];i&&!await i.apply(this,n)||e.apply(this,n)}}const tt=Object.keys(xt),Nt={};for(let e=0;e<tt.length;e++){const t=tt[e];Nt[t]=Ji(xt[t],t)}const Qi={generateUUID:ne,getObjById:fe,generateNewObj:Ot,layout:Ht,linkDiv:Jt,editTopic:Xt,createWrapper:Yt,createParent:Kt,createChildren:Ut,createTopic:Wt,findEle:_,changeTheme:Nn,...fi,...Nt,...Mi,...$i,...Zi,init(e){if(!e||!e.nodeData)return new Error("MindElixir: `data` is required");e.direction!==void 0&&(this.direction=e.direction),this.changeTheme(e.theme||this.theme,!1),this.nodeData=e.nodeData,W(this.nodeData),this.arrows=e.arrows||[],this.summaries=e.summaries||[],this.tidyArrow(),this.toolBar&&fn(this),this.keypress&&rn(this),this.editable&&wn(this),$t()&&this.mobileMenu?an(this):this.contextMenu&&Qt(this,this.contextMenuOption),this.draggable&&dn(this),this.allowUndo&&mn(this),this.toCenter(),this.layout(),this.linkDiv()}};function eo({pT:e,pL:t,pW:n,pH:i,cT:o,cL:s,cW:r,cH:a,direction:c,containerHeight:d}){let u=t+n/2;const m=e+i/2;let l;c==="lhs"?l=s+r:l=s;const g=o+a/2,p=(1-Math.abs(g-m)/d)*.25*(n/2);return c==="lhs"?u=u-n/10-p:u=u+n/10+p,`M ${u} ${m} Q ${u} ${g} ${l} ${g}`}function to({pT:e,pL:t,pW:n,pH:i,cT:o,cL:s,cW:r,cH:a,direction:c,isFirst:d}){let u=0,m=0;d?u=e+i/2:u=e+i;const l=o+a;let g=0,p=0,f=0;const z=Math.abs(u-l)/300*U;return c==="lhs"?(f=t,g=f+U,p=f-U,m=s+U,`M ${g} ${u} C ${f} ${u} ${f+z} ${l} ${p} ${l} H ${m}`):(f=t+n,g=f-U,p=f+U,m=s+r-U,`M ${g} ${u} C ${f} ${u} ${f-z} ${l} ${p} ${l} H ${m}`)}const re=document;function $({el:e,direction:t,locale:n,draggable:i,editable:o,contextMenu:s,contextMenuOption:r,toolBar:a,keypress:c,mouseSelectionButton:d,before:u,newTopicName:m,allowUndo:l,generateMainBranch:g,generateSubBranch:p,overflowHidden:f,mobileMenu:z,theme:w,nodeMenu:x,apiInterface:v}){let k=null;const y=Object.prototype.toString.call(e);if(y==="[object HTMLDivElement]"?k=e:y==="[object String]"&&(k=document.querySelector(e)),!k)throw new Error("MindElixir: el is not a valid element");k.className+=" mind-elixir",k.innerHTML="",k.style.setProperty("--gap",U+"px"),this.nodeMenu=x||!1,this.apiInterface=v,this.mindElixirBox=k,this.before=u||{},this.locale=n||"en",this.contextMenuOption=r,this.contextMenu=s===void 0?!0:s,this.toolBar=a===void 0?!0:a,this.keypress=c===void 0?!0:c,this.mouseSelectionButton=d||0,this.mobileMenu=z||!1,this.direction=typeof t=="number"?t:1,this.draggable=i===void 0?!0:i,this.newTopicName=m||"new node",this.editable=o===void 0?!0:o,this.allowUndo=l===void 0?!1:l,this.currentNode=null,this.currentArrow=null,this.scaleVal=1,this.tempDirection=null,this.generateMainBranch=g||eo,this.generateSubBranch=p||to,this.overflowHidden=f||!1,this.bus=Bt.create(),this.container=re.createElement("div"),this.container.className="map-container";const M=window.matchMedia("(prefers-color-scheme: dark)");this.theme=w||(M.matches?ot:it);const T=re.createElement("div");T.className="map-canvas",this.map=T,this.map.setAttribute("tabindex","0"),this.container.appendChild(this.map),this.mindElixirBox.appendChild(this.container),this.nodes=re.createElement("me-nodes"),this.nodes.className="main-node-container",this.lines=ae("lines"),this.summarySvg=ae("summary"),this.linkController=ae("linkcontroller"),this.P2=re.createElement("div"),this.P3=re.createElement("div"),this.P2.className=this.P3.className="circle",this.P2.style.display=this.P3.style.display="none",this.line1=Fe(),this.line2=Fe(),this.linkController.appendChild(this.line1),this.linkController.appendChild(this.line2),this.linkSvgGroup=ae("topiclinks"),this.map.appendChild(this.nodes),this.overflowHidden?this.container.style.overflow="hidden":Pt(this)}$.prototype=Qi;$.LEFT=O;$.RIGHT=G;$.SIDE=xe;$.THEME=it;$.DARK_THEME=ot;$.version="4.0.5";$.E=_;$.new=e=>({nodeData:{id:ne(),topic:e||"new topic",root:!0,children:[]}});window._iconfont_svg_string_4003484='<svg><symbol id="icon-a" viewBox="0 0 1024 1024"><path d="M757.76 665.6q0 20.48 1.536 34.304t7.68 22.016 18.944 12.288 34.304 4.096q-3.072 25.6-15.36 44.032-11.264 16.384-33.28 29.696t-62.976 13.312q-11.264 0-20.48-0.512t-17.408-2.56l-6.144-2.048-1.024 0q-4.096-1.024-10.24-4.096-2.048-2.048-4.096-2.048-1.024-1.024-2.048-1.024-14.336-8.192-23.552-17.408t-14.336-17.408q-6.144-10.24-9.216-20.48-63.488 75.776-178.176 75.776-48.128 0-88.064-15.36t-69.12-44.032-45.056-68.096-15.872-88.576 16.896-89.088 47.616-67.584 74.24-42.496 96.768-14.848q48.128 0 88.576 17.408t66.048 49.152q0-8.192 0.512-16.384t0.512-15.36q0-71.68-39.936-104.448t-128-32.768q-43.008 0-84.992 6.656t-84.992 17.92q14.336-28.672 25.088-47.616t24.064-29.184q30.72-24.576 158.72-24.576 79.872 0 135.168 13.824t90.624 43.52 51.2 75.264 15.872 108.032l0 200.704zM487.424 743.424q50.176 0 79.872-33.28t29.696-95.744q0-61.44-28.672-93.696t-76.8-32.256q-52.224 0-82.944 33.28t-30.72 94.72q0 58.368 31.744 92.672t77.824 34.304z"  ></path></symbol><symbol id="icon-close" viewBox="0 0 1024 1024"><path d="M557.312 513.248l265.28-263.904c12.544-12.48 12.608-32.704 0.128-45.248-12.512-12.576-32.704-12.608-45.248-0.128L512.128 467.904l-263.04-263.84c-12.448-12.48-32.704-12.544-45.248-0.064-12.512 12.48-12.544 32.736-0.064 45.28l262.976 263.776L201.6 776.8c-12.544 12.48-12.608 32.704-0.128 45.248a31.937 31.937 0 0 0 22.688 9.44c8.16 0 16.32-3.104 22.56-9.312l265.216-263.808 265.44 266.24c6.24 6.272 14.432 9.408 22.656 9.408a31.94 31.94 0 0 0 22.592-9.344c12.512-12.48 12.544-32.704 0.064-45.248L557.312 513.248z" fill="" ></path></symbol><symbol id="icon-menu" viewBox="0 0 1024 1024"><path d="M109.714 292.571h804.572c21.943 0 36.571-21.942 36.571-43.885 0-14.629-14.628-29.257-36.571-29.257H109.714c-21.943 0-36.571 14.628-36.571 36.571 0 14.629 14.628 36.571 36.571 36.571zM914.286 512H109.714c-21.943 0-36.571 14.629-36.571 36.571 0 14.629 14.628 36.572 36.571 36.572h804.572c21.943 0 36.571-21.943 36.571-43.886 0-14.628-14.628-29.257-36.571-29.257z m0 292.571H109.714c-21.943 0-36.571 14.629-36.571 36.572s14.628 36.571 36.571 36.571h804.572c21.943 0 36.571-21.943 36.571-36.571 0-21.943-14.628-36.572-36.571-36.572z"  ></path></symbol><symbol id="icon-B" viewBox="0 0 1024 1024"><path d="M98.067692 65.457231H481.28c75.854769 0 132.411077 3.150769 169.668923 9.452307 37.336615 6.301538 70.656 19.534769 100.036923 39.620924 29.459692 20.007385 53.956923 46.710154 73.570462 80.029538 19.692308 33.398154 29.459692 70.734769 29.459692 112.167385 0 44.898462-12.130462 86.094769-36.233846 123.588923a224.886154 224.886154 0 0 1-98.461539 84.283077c58.368 17.092923 103.266462 46.08 134.695385 87.04 31.350154 40.96 47.025231 89.088 47.025231 144.462769 0 43.638154-10.082462 86.016-30.404923 127.212308-20.243692 41.196308-47.891692 74.043077-83.02277 98.697846-35.052308 24.654769-78.296615 39.778462-129.732923 45.449846-32.295385 3.465846-110.119385 5.671385-233.472 6.537846H98.067692V65.457231z m193.536 159.507692V446.621538h126.818462c75.460923 0 122.328615-1.024 140.603077-3.229538 33.083077-3.938462 59.155692-15.36 78.139077-34.343385 18.904615-18.904615 28.435692-43.874462 28.435692-74.830769 0-29.696-8.192-53.720615-24.497231-72.310154-16.384-18.510769-40.644923-29.696-72.940307-33.634461-19.140923-2.205538-74.279385-3.308308-165.415385-3.308308h-111.064615z m0 381.243077v256.315077h179.2c69.710769 0 113.979077-1.969231 132.726154-5.907692 28.750769-5.198769 52.145231-17.959385 70.262154-38.281847 18.116923-20.243692 27.096615-47.340308 27.096615-81.368615 0-28.750769-6.931692-53.169231-20.873846-73.255385a118.232615 118.232615 0 0 0-60.494769-43.795692c-26.387692-9.137231-83.574154-13.705846-171.638154-13.705846H291.603692z"  ></path></symbol></svg>',function(e){var n=(n=document.getElementsByTagName("script"))[n.length-1],t=n.getAttribute("data-injectcss"),n=n.getAttribute("data-disable-injectsvg");if(!n){var i,o,s,r,a,c=function(m,l){l.parentNode.insertBefore(m,l)};if(t&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(m){console&&console.log(m)}}i=function(){var m,l=document.createElement("div");l.innerHTML=e._iconfont_svg_string_4003484,(l=l.getElementsByTagName("svg")[0])&&(l.setAttribute("aria-hidden","true"),l.style.position="absolute",l.style.width=0,l.style.height=0,l.style.overflow="hidden",l=l,(m=document.body).firstChild?c(l,m.firstChild):m.appendChild(l))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(i,0):(o=function(){document.removeEventListener("DOMContentLoaded",o,!1),i()},document.addEventListener("DOMContentLoaded",o,!1)):document.attachEvent&&(s=i,r=e.document,a=!1,u(),r.onreadystatechange=function(){r.readyState=="complete"&&(r.onreadystatechange=null,d())})}function d(){a||(a=!0,s())}function u(){try{r.documentElement.doScroll("left")}catch{return void setTimeout(u,50)}d()}}(window);const nt={addChild:"插入子节点",addParent:"插入父节点",addSibling:"插入同级节点",removeNode:"删除节点",focus:"专注",cancelFocus:"取消专注",moveUp:"上移",moveDown:"下移",link:"连接",clickTips:"请点击目标节点",font:"文字",background:"背景",tag:"标签",icon:"图标",tagsSeparate:"多个标签半角逗号分隔",iconsSeparate:"多个图标半角逗号分隔",url:"URL",img:"图片",file:"文件",mind:"MIND",associateImg:"关联图片",associateFile:"关联文件",associateMind:"关联MIND"},j={cn:nt,zh_CN:nt,zh_TW:{addChild:"插入子節點",addParent:"插入父節點",addSibling:"插入同級節點",removeNode:"刪除節點",focus:"專注",cancelFocus:"取消專注",moveUp:"上移",moveDown:"下移",link:"連接",clickTips:"請點擊目標節點",font:"文字",background:"背景",tag:"標簽",icon:"圖標",tagsSeparate:"多個標簽半角逗號分隔",iconsSeparate:"多個圖標半角逗號分隔",url:"URL",img:"图片",file:"文件",mind:"MIND",associateImg:"关联图片",associateFile:"关联文件",associateMind:"关联MIND"},en:{addChild:"Add child",addParent:"Add parent",addSibling:"Add sibling",removeNode:"Remove node",focus:"Focus Mode",cancelFocus:"Cancel Focus Mode",moveUp:"Move up",moveDown:"Move down",link:"Link",clickTips:"Please click the target node",font:"Font",background:"Background",tag:"Tag",icon:"Icon",tagsSeparate:"Separate tags by comma",iconsSeparate:"Separate icons by comma",url:"URL",img:"IMG",file:"FILE",mind:"MIND",associateImg:"Associate IMG",associateFile:"Associate FILE",associateMind:"Associate MIND"},ru:{addChild:"Добавить дочерний элемент",addParent:"Добавить родительский элемент",addSibling:"Добавить на этом уровне",removeNode:"Удалить узел",focus:"Режим фокусировки",cancelFocus:"Отменить режим фокусировки",moveUp:"Поднять выше",moveDown:"Опустить ниже",link:"Ссылка",clickTips:"Пожалуйста, нажмите на целевой узел",font:"Цвет шрифта",background:"Цвет фона",tag:"Тег",icon:"Иконка",tagsSeparate:"Разделяйте теги запятой",iconsSeparate:"Разделяйте иконки запятой",url:"URL",img:"IMG",file:"FILE",mind:"MIND",associateImg:"Associate IMG",associateFile:"Associate FILE",associateMind:"Associate MIND"},ja:{addChild:"子ノードを追加する",addParent:"親ノードを追加します",addSibling:"兄弟ノードを追加する",removeNode:"ノードを削除",focus:"集中",cancelFocus:"集中解除",moveUp:"上へ移動",moveDown:"下へ移動",link:"コネクト",clickTips:"ターゲットノードをクリックしてください",font:"フォント",background:"バックグラウンド",tag:"タグ",icon:"アイコン",tagsSeparate:"複数タグはカンマ区切り",iconsSeparate:"複数アイコンはカンマ区切り",url:"URL",img:"IMG",file:"FILE",mind:"MIND",associateImg:"Associate IMG",associateFile:"Associate FILE",associateMind:"Associate MIND"},pt:{addChild:"Adicionar item filho",addParent:"Adicionar item pai",addSibling:"Adicionar item irmao",removeNode:"Remover item",focus:"Modo Foco",cancelFocus:"Cancelar Modo Foco",moveUp:"Mover para cima",moveDown:"Mover para baixo",link:"Link",clickTips:"Favor clicar no item alvo",font:"Fonte",background:"Cor de fundo",tag:"Tag",icon:"Icone",tagsSeparate:"Separe tags por virgula",iconsSeparate:"Separe icones por virgula",url:"URL",img:"IMG",file:"FILE",mind:"MIND",associateImg:"Associate IMG",associateFile:"Associate FILE",associateMind:"Associate MIND"}},H=(e,t)=>{const n=document.createElement("div");return n.id=e,n.innerHTML=t,n},no=["#2c3e50","#34495e","#7f8c8d","#94a5a6","#bdc3c7","#ecf0f1","#8e44ad","#9b59b6","#2980b9","#3298db","#c0392c","#e74c3c","#d35400","#f39c11","#f1c40e","#17a085","#27ae61","#2ecc71"],io=e=>{const{protocol:t,hostname:n,port:i}=new URL(e);return`${t}//${n}${i?`:${i}`:""}/`};function oo(e){console.log("install node menu");function t(h,N){const b=e.container.querySelectorAll(h);[].forEach.call(b,function(C){C.classList.remove(N)})}const n=j[e.locale]?e.locale:"en",i=H("nm-style",`
  <div class="nm-fontsize-container">
    ${["15","24","32"].map(h=>`<div class="size"  data-size="${h}">
    <svg class="icon" style="width: ${h}px;height: ${h}px" aria-hidden="true">
      <use xlink:href="#icon-a"></use>
    </svg></div>`).join("")}<div class="bold"><svg class="icon" aria-hidden="true">
<use xlink:href="#icon-B"></use>
</svg></div>
  </div>
  <div class="nm-fontcolor-container">
    ${no.map(h=>`<div class="split6"><div class="palette" data-color="${h}" style="background-color: ${h};"></div></div>`).join("")}
  </div>
  <div class="bof">
  <span class="font">${j[n].font}</span>
  <span class="background">${j[n].background}</span>
  </div>`),o=H("nm-tag",`${j[n].tag}<input class="nm-tag" tabindex="-1" placeholder="${j[n].tagsSeparate}" />`),s=H("nm-icon",`${j[n].icon}<input class="nm-icon" tabindex="-1" placeholder="${j[n].iconsSeparate}" />`),r=H("nm-url",`${j[n].url}<input class="nm-url" tabindex="-1" />`),a=H("nm-img",`${j[n].img}<div class="img-container"></div><button id="link-btn" class="link-btn">${j[n].associateImg}</button>`),c=H("nm-file",`${j[n].file}<div class="file-container"></div><button id="link-btn" class="link-btn">${j[n].associateFile}</button>`),d=H("nm-mind",`${j[n].mind}<div class="mind-container"></div></div><button id="link-btn" class="link-btn">${j[n].associateMind}</button>`),u=H("nm-memo",`${j[n].memo||"Memo"}<textarea class="nm-memo" rows="4" tabindex="-1" />`),m=H("nm-file-img-mind",'<ul class="nm-file-img-mind"></ul>'),l=document.createElement("div");l.className="node-menu",l.innerHTML=`
  <div id="close-container" class="button-container"><svg class="icon" aria-hidden="true">
  <use xlink:href="#icon-close"></use>
  </svg></div>
  <div id="close-file-img-mind" class="close-file-img-mind" hidden><svg class="icon" aria-hidden="true">
  <use xlink:href="#icon-close"></use>
  </svg></div>
  `,l.appendChild(i),l.appendChild(o),l.appendChild(s),l.appendChild(r),l.appendChild(a),l.appendChild(c),l.appendChild(d),l.appendChild(u),l.appendChild(m),l.hidden=!0,e.container.append(l);const g=l.querySelectorAll(".size"),p=l.querySelector(".bold"),f=l.querySelector(".button-container"),z=l.querySelector(".font"),w=e.container.querySelector(".nm-tag"),x=e.container.querySelector(".nm-icon"),v=e.container.querySelector(".nm-url"),k=e.container.querySelector(".img-container"),y=e.container.querySelector(".file-container"),M=e.container.querySelector(".mind-container"),T=e.container.querySelector(".nm-memo"),A=a.querySelector(".link-btn"),P=c.querySelector(".link-btn"),B=d.querySelector(".link-btn"),oe=m.querySelector(".nm-file-img-mind"),Mt=l.querySelector(".close-file-img-mind");let se;e.findEle;async function Ct(){let h={};e.apiInterface.headerToken?h={Authorization:`Bearer ${e.apiInterface.headerToken}`}:console.warn("Mind COREL No headerToken found in mind config");const N=e.apiInterface.listAPI;try{const b=await fetch(N,{method:"GET",headers:h});if(!b.ok)if(b.status===401)alert("Unauthorized access! Please check your login status or token.");else throw new Error(`HTTP error! status: ${b.status}`);const C=await b.json();if(console.log("API response:",C),C.code===0)return C.data;alert(`Failed to fetch data from the API, ${C.msg}`)}catch(b){console.error("Error fetching data:",b),alert(`Failed to fetch data from the API, ${e.apiInterface.listAPI}`)}}function ve(h){const N=document.querySelector(".node-menu");if(N){const b=N.children;for(let C=0;C<b.length;C++){const L=b[C];h.includes(L.id)?L.removeAttribute("hidden"):L.setAttribute("hidden","")}}}function de(h){const N=document.querySelector(".node-menu");if(N){const b=N.children;for(let C=0;C<b.length;C++){const L=b[C];h.includes(L.id)?L.setAttribute("hidden",""):L.removeAttribute("hidden")}}}function ye(h,N){oe.innerHTML="",h.forEach(b=>{const C=document.createElement("li");C.textContent=b.name;const L=io(e.apiInterface.uploadAPI);C.addEventListener("click",()=>{if(N==="image"){const R=`${L}${b.path}`;e.reshapeNode(e.currentNode,{image:{url:R,name:b.name,height:90,width:90}}),de(["close-file-img-mind","nm-file-img-mind"]),A.removeAttribute("hidden"),k.innerHTML=`<span class="file-link" data-url="${R}">${b.name}</span> <button class="remove-btn">x</button>`}else if(N==="file"){const R=`${L}${b.path}`;e.reshapeNode(e.currentNode,{file:{url:R,name:b.name}}),de(["close-file-img-mind","nm-file-img-mind"]),P.removeAttribute("hidden"),y.innerHTML=`<span class="file-link" data-url="${R}">${b.name}</span> <button class="remove-btn">x</button>`}else if(N==="mind"){const R=b.path;e.reshapeNode(e.currentNode,{mind:{url:R,name:b.name,id:b.content._id}}),de(["close-file-img-mind","nm-file-img-mind"]),B.removeAttribute("hidden"),M.innerHTML=`<span class="file-link" data-url="${R}">${b.name}</span> <button class="remove-btn">x</button>`}console.log(b.path)}),oe.appendChild(C)})}async function ke(h){const N=await Ct();h==="image"?(console.log("Display image list for linking"),A.setAttribute("hidden",""),ve(["close-file-img-mind","nm-img","nm-file-img-mind"]),ye(N.images,h)):h==="file"?(console.log("Display file list for linking"),P.setAttribute("hidden",""),ve(["close-file-img-mind","nm-file","nm-file-img-mind"]),ye(N.files,h)):h==="mind"&&(console.log("Display mind list for linking"),B.setAttribute("hidden",""),ve(["close-file-img-mind","nm-mind","nm-file-img-mind"]),ye(N.minds,h),console.log("Display mind list for linking"))}Mt.onclick=()=>{de(["close-file-img-mind","nm-file-img-mind"])},l.onclick=h=>{if(!e.currentNode)return;const N=e.currentNode.nodeObj,b=h.target;if(b.className==="palette"){t(".palette","nmenu-selected"),b.className="palette nmenu-selected";const C=b.dataset.color,L={style:{}};se==="font"?L.style.color=C:se==="background"&&(L.style.background=C),console.log(L),e.reshapeNode(e.currentNode,L)}else b.className==="background"?(t(".palette","nmenu-selected"),se="background",b.className="background selected",b.previousElementSibling.className="font",N.style&&N.style.background&&(l.querySelector('.palette[data-color="'+N.style.background+'"]').className="palette nmenu-selected")):b.className==="font"&&(t(".palette","nmenu-selected"),se="font",b.className="font selected",b.nextElementSibling.className="background",N.style&&N.style.color&&(l.querySelector('.palette[data-color="'+N.style.color+'"]').className="palette nmenu-selected"))},Array.from(g).map(h=>{h.onclick=N=>{t(".size","size-selected");const b=N.currentTarget;b.className="size size-selected",e.reshapeNode(e.currentNode,{style:{fontSize:b.dataset.size}})}}),p.onclick=h=>{var N,b;let C="";((b=(N=e.currentNode.nodeObj)==null?void 0:N.style)==null?void 0:b.fontWeight)==="bold"?h.currentTarget.className="bold":(C="bold",h.currentTarget.className="bold size-selected"),e.reshapeNode(e.currentNode,{style:{fontWeight:C}})},w.onchange=h=>{if(e.currentNode&&typeof h.target.value=="string"){const N=h.target.value.split(",");e.reshapeNode(e.currentNode,{tags:N.filter(b=>b)})}},x.onchange=h=>{if(e.currentNode&&typeof h.target.value=="string"){const N=h.target.value.split(",");e.reshapeNode(e.currentNode,{icons:N.filter(b=>b)})}},v.onchange=h=>{!e.currentNode||e.reshapeNode(e.currentNode,{hyperLink:h.target.value})},A.onclick=async h=>{await ke("image")},P.onclick=async h=>{await ke("file")},B.onclick=async h=>{await ke("mind")},M.onclick=async h=>{!e.currentNode||(e.currentNode.nodeObj,h.target.classList.contains("remove-btn")?(e.reshapeNode(e.currentNode,{mind:null}),M.innerHTML=""):h.target.classList.contains("file-link")&&window.open(h.target.dataset.url,"_blank"))},k.onclick=async h=>{!e.currentNode||(e.currentNode.nodeObj,h.target.classList.contains("remove-btn")?(e.reshapeNode(e.currentNode,{image:null}),k.innerHTML='<button class="upload-btn">Upload Image</button>'):h.target.classList.contains("file-link")?window.open(h.target.dataset.url,"_blank"):await e.upload())},y.onclick=async h=>{!e.currentNode||(e.currentNode.nodeObj,h.target.classList.contains("remove-btn")?(e.reshapeNode(e.currentNode,{file:null}),y.innerHTML='<button class="upload-btn">Upload File</button>'):h.target.classList.contains("file-link")?window.open(h.target.dataset.url,"_blank"):await e.upload())},T.onchange=h=>{!e.currentNode||(e.currentNode.nodeObj.memo=h.target.value,e.bus.fire("operation",{name:"updateMemo",obj:e.currentNode.nodeObj}))};let we="open";f.onclick=h=>{l.classList.toggle("close"),we==="open"?(we="close",f.innerHTML='<svg class="icon" aria-hidden="true"><use xlink:href="#icon-menu"></use></svg>'):(we="open",f.innerHTML='<svg class="icon" aria-hidden="true"><use xlink:href="#icon-close"></use></svg>')},e.bus.addListener("unselectNode",function(){l.hidden=!0}),e.bus.addListener("selectNode",function(h,N){!N||(l.hidden=!1,t(".palette","nmenu-selected"),t(".size","size-selected"),t(".bold","size-selected"),se="font",z.className="font selected",z.nextElementSibling.className="background",h.style&&(h.style.fontSize&&(l.querySelector('.size[data-size="'+h.style.fontSize+'"]').className="size size-selected"),h.style.fontWeight&&(l.querySelector(".bold").className="bold size-selected"),h.style.color&&(l.querySelector('.palette[data-color="'+h.style.color+'"]').className="palette nmenu-selected")),h.tags?w.value=h.tags.join(","):w.value="",h.icons?x.value=h.icons.join(","):x.value="",v.value=h.hyperLink||"",k.innerHTML=h.image?`<span class="file-link" data-url="${h.image.url}">${h.image.name}</span> <button class="remove-btn">x</button>`:'<button class="upload-btn">Upload Image</button>',y.innerHTML=h.file?`<span class="file-link" data-url="${h.file.url}">${h.file.name}</span> <button class="remove-btn">x</button>`:'<button class="upload-btn">Upload File</button>',M.innerHTML=h.mind?`<span class="file-link" data-url="${h.mind.url}">${h.mind.name}</span> <button class="remove-btn">x</button>`:"",T.value=h.memo||"")})}const so=Et({__name:"mindTemplate",props:{dataProps:{type:Object,required:!0,default:()=>({content:""})}},setup(e){const t="https://ai.minitool.fun:15554",{show_tags:n,new_data:i,ME:o,language:s}=St(It()),r=e,a=_t(null);return Ne(o,(c,d)=>{console.log("mind思维导图发生了改变,保存思维导图",c),c.nodeData&&(c.nodeData&&c.nodeData.topic=="New"&&c.nodeData.children.length==0||Me(!1))},{deep:!0}),Ne(s,c=>{o.value.setLocale(c)}),Ne(()=>r.dataProps,c=>{if(o.value&&c&&c.content&&c.content.nodeData)try{o.value.refresh(c.content)}catch(d){console.error("Error refreshing MindElixir:",d)}else console.log("Data is not available yet or is empty. mind refresh failed")},{immediate:!0}),At(()=>{const c={el:"#map",direction:$.RIGHT,draggable:!0,contextMenu:!0,toolBar:!0,nodeMenu:!0,keypress:!0,locale:s.value,apiInterface:{singleNode:!0,answerAPI:`${t}/mind/answer`,uploadAPI:`${t}/mind/upload_file`,listAPI:`${t}/mind/get_mind_file_image`,headerToken:window.localStorage.getItem("access_token")}};o.value=new $(c),o.value.install(oo),o.value.init($.new("New")),r.dataProps.content&&(console.log(r.dataProps.content),o.value.init(r.dataProps.content)),o.value.bus.addListener("selectNode",d=>{a.value=d}),o.value.bus.addListener("operation",d=>{d.name==="finishEdit"&&Me(!1)})}),(c,d)=>(Tt(),Lt("div",{class:"map",id:"map",tabindex:"0",onKeyup:[d[0]||(d[0]=De(Ie(u=>$e(Me)(),["ctrl"]),["s"])),d[1]||(d[1]=De(Ie(u=>$e(Dt)(),["ctrl"]),["n"]))]},null,32))}});const co=jt(so,[["__scopeId","data-v-4f90b48d"]]);export{co as M};
