import{d as x,L as y,Z as z,h as M,v as D,o as u,b as _,a as t,t as n,F as L,e as N,i as s,u as A,g as C,A as v,B as g,c as j,z as U,U as S}from"./index-f50d6d08.js";import{_ as F}from"./aimind-cbb44be6.js";import{s as B}from"./store-1a8c456b.js";import{C as R,N as b,S as w}from"./utils-ac468565.js";const T={class:"z-20 fixed inset-0 flex items-center justify-center"},H={class:"modal-box"},J={class:"text-lg font-bold"},K={class:"overflow-x-auto"},Z={class:"table"},q={class:"modal-action"},G={method:"dialog"},O=x({__name:"shortcut",setup(I){const{show_shortcut:p}=y(B()),{rt:a,tm:m}=z();function c(){p.value=!1}function d(i){i.key==="Escape"&&c()}return M(()=>{window.addEventListener("keydown",d)}),D(()=>{window.removeEventListener("keydown",d)}),(i,r)=>(u(),_("div",T,[t("div",H,[t("h3",J,n(i.$t("mind.shortcut.name")),1),t("div",K,[t("table",Z,[t("thead",null,[t("tr",null,[t("th",null,n(i.$t("mind.shortcut.col1")),1),t("th",null,n(i.$t("mind.shortcut.col2")),1)])]),t("tbody",null,[(u(!0),_(L,null,N(s(m)("mind.shortcut.shorts"),h=>(u(),_("tr",null,[t("td",null,n(s(a)(h.name)),1),t("td",null,n(s(a)(h.desc)),1)]))),256))])])]),t("div",q,[t("form",G,[t("button",{class:"btn",onClick:r[0]||(r[0]=h=>c())},"Close")])])])]))}}),P={class:"absolute top-0 w-screen z-10 my-5"},Q={class:"navbar bg-base-100 dark:bg-gray-800 mx-auto rounded-xl lg:w-4/5"},W={class:"navbar-start"},X={class:"dropdown"},Y=t("div",{tabindex:"0",role:"button",class:"btn btn-ghost text-xl dark:text-white"},[t("div",{class:"flex items-center"},[t("img",{src:F,alt:"AIMind Logo",class:"h-8 mr-2"}),t("span",{class:"text-lg font-bold"},"AIMind")])],-1),tt={tabindex:"0",class:"menu menu-sm dropdown-content bg-base-100 dark:bg-gray-800 rounded-box z-[1] mt-3 w-52 p-2 shadow dark:text-white"},et={href:"/audio"},nt=t("ul",{class:"p-2"},[t("li",null,[t("a",null,"github")]),t("li",null,[t("a",null,"official")])],-1),st={class:"navbar-center hidden lg:flex"},ot={class:"menu menu-horizontal px-1 dark:text-white"},lt={href:"/mind/storehouse"},at={class:"navbar-center lg:hidden"},it={class:"dropdown"},ct=S('<button tabindex="0" class="btn btn-ghost btn-circle"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><circle cx="6" cy="12" r="3"></circle><circle cx="12" cy="12" r="3"></circle><circle cx="18" cy="12" r="3"></circle></svg></button>',1),dt={tabindex:"0",class:"menu menu-sm dropdown-content bg-base-100 dark:bg-gray-800 rounded-box z-[1] mt-1 w-32 p-2 shadow dark:text-white"},rt={href:"/mind/storehouse"},ut={class:"navbar-end"},mt=t("button",{class:"btn btn-ghost btn-circle"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),ht=t("svg",{id:"light-icon",viewBox:"0 0 24 24",width:"24",height:"24",class:"hidden"},[t("path",{fill:"currentColor",d:"M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"})],-1),vt=t("svg",{id:"dark-icon",viewBox:"0 0 24 24",width:"24",height:"24"},[t("path",{fill:"currentColor",d:"M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"})],-1),gt=[ht,vt],bt=S('<button class="btn btn-ghost btn-circle"><div class="indicator"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg><span class="badge badge-xs badge-primary indicator-item"></span></div></button>',1),wt={class:"dropdown ml-4"},_t={tabindex:"0",role:"button",class:"btn btn-circle btn-success btn-outline text-xs dark:text-white"},pt={tabindex:"0",class:"menu menu-sm dropdown-content bg-base-100 dark:bg-gray-800 rounded-box z-[1] mt-3 w-52 p-2 shadow dark:text-white"},xt=x({__name:"navbar",setup(I){const{ME:p,language:a,show_shortcut:m,username:c}=y(B()),{locale:d}=z(),i=A();C(!1);const r=C(!1),f=window.location.href.includes("storehouse");function E(){i.push("/mind/edit/44fe562a6e7072980cc0c9c0")}const k=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("username"),c.value="anonymous",i.push("/mind/login")};function V(){document.getElementById("theme-toggle"),document.body.classList.toggle("dark");var e=document.body.classList.contains("dark");document.getElementById("light-icon").classList.toggle("hidden",!e),document.getElementById("dark-icon").classList.toggle("hidden",e)}function $(){a.value==="en"?(a.value="cn",d.value="zh",localStorage.setItem("language","zh")):(a.value="en",d.value="en",localStorage.setItem("language","en")),console.log("切换语言到",a.value)}return M(async()=>{const e=localStorage.getItem("username");e?c.value=e.substring(0,4):c.value="未登录",a.value==="en"?d.value="en":d.value="zh",r.value=await R(),console.log("登录状态",r.value)}),(e,o)=>(u(),_(L,null,[t("div",P,[t("div",Q,[t("div",W,[t("div",X,[Y,t("ul",tt,[t("li",null,[t("a",et,n(e.$t("mind.navbar.audio")),1)]),t("li",null,[t("a",{onClick:E},n(e.$t("mind.navbar.document")),1),nt]),t("li",null,[t("a",{onClick:o[0]||(o[0]=l=>m.value=!0)},n(e.$t("mind.navbar.shortcut")),1)]),t("li",null,[t("a",null,n(e.$t("mind.navbar.contact")),1)]),t("li",null,[t("a",null,n(e.$t("mind.navbar.about")),1)])])])]),t("div",st,[t("ul",ot,[t("li",null,[t("a",{onClick:o[1]||(o[1]=(...l)=>s(b)&&s(b)(...l))},n(e.$t("mind.navbar.new")),1)]),v(t("li",null,[t("a",{onClick:o[2]||(o[2]=(...l)=>s(w)&&s(w)(...l))},n(e.$t("mind.navbar.save")),1)],512),[[g,!s(f)]]),t("li",null,[t("a",lt,n(e.$t("mind.navbar.storehouse")),1)]),t("li",null,[t("a",{onClick:o[3]||(o[3]=l=>$())},n(e.$t("mind.navbar.language")),1)])])]),t("div",at,[t("div",it,[ct,t("ul",dt,[t("li",null,[t("a",{onClick:o[4]||(o[4]=(...l)=>s(b)&&s(b)(...l))},n(e.$t("mind.navbar.new")),1)]),v(t("li",null,[t("a",{onClick:o[5]||(o[5]=(...l)=>s(w)&&s(w)(...l))},n(e.$t("mind.navbar.save")),1)],512),[[g,!s(f)]]),t("li",null,[t("a",rt,n(e.$t("mind.navbar.storehouse")),1)]),t("li",null,[t("a",{onClick:o[6]||(o[6]=l=>$())},n(e.$t("mind.navbar.language")),1)])])])]),t("div",ut,[mt,t("button",{class:"btn btn-ghost btn-circle",id:"theme-toggle",title:"切换主题",onClick:V},gt),bt,t("div",wt,[t("div",_t,n(s(c)),1),t("ul",pt,[v(t("li",null,[t("a",{onClick:k},n(e.$t("mind.navbar.logout")),1)],512),[[g,r.value]]),v(t("li",null,[t("a",{onClick:k},n(e.$t("mind.navbar.login")),1)],512),[[g,!r.value]])])])])])]),s(m)?(u(),j(O,{key:0})):U("",!0)],64))}});export{xt as _};
